(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{85:function(e,a,t){"use strict";t.r(a);var l=t(3),n=t(0),s=t.n(n),c=t(5),r=t(7),i=t(6),m=t(29),o=t(1),d=(t(82),t(83),t(2)),u=t(10),E=t(15),f=t(21),p=t(24);function g(){var e=Object(n.useContext)(i.b).user,a="/api/source/edit";return s.a.createElement("div",{className:"view"},s.a.createElement("h1",null,s.a.createElement(d.a,{id:"jamiaProfile",defaultMessage:"Jamia Profile"})),s.a.createElement("ul",{id:"profileInfo"},s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"joined",defaultMessage:"Joined"})),s.a.createElement("li",{className:"data"},s.a.createElement(u.a,{value:e.joined,day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"fatwa",defaultMessage:"Fatwa"})),s.a.createElement("li",{className:"data"},s.a.createElement(u.b,{value:e.fatwa})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"id",defaultMessage:"ID"})),s.a.createElement("li",{className:"data"},e.id),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"password",defaultMessage:"Password"})),s.a.createElement("li",{className:"data"},s.a.createElement(f.g,{api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"name",defaultMessage:"Name (Bangla)"})," ",s.a.createElement("small",null,"(",s.a.createElement(d.a,{id:"ban"}),")")),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{api:a,defaultValue:e.name["bn-BD"],Element:o.h,fieldCode:"name.bn-BD"})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"name",defaultMessage:"Name (English)"})," ",s.a.createElement("small",null,"(",s.a.createElement(d.a,{id:"eng"}),")")),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{api:a,defaultValue:e.name["en-US"],Element:o.h,fieldCode:"name.en-US"})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"primeMufti",defaultMessage:"Prime Mufti (Bangla)"})," ",s.a.createElement("small",null,"(",s.a.createElement(d.a,{id:"ban"}),")")),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.primeMufti["bn-BD"],Element:o.h,max:200,fieldCode:"primeMufti.bn-BD",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"primeMufti",defaultMessage:"Prime Mufti (English)"})," ",s.a.createElement("small",null,"(",s.a.createElement(d.a,{id:"ban"}),")")),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.primeMufti["en-US"],Element:o.h,max:200,fieldCode:"primeMufti.en-US",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"founder",defaultMessage:"Founder"})),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.founder,Element:o.n,max:200,fieldCode:"founder",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"add",defaultMessage:"Address"})),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.address,Element:o.n,fieldCode:"add",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"contact",defaultMessage:"Contact"})),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.contact,Element:o.i,tel:!0,fieldCode:"contact",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"about",defaultMessage:"About"})),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.about,Element:o.n,fieldCode:"about",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"applName",defaultMessage:"Applicant's Name"})),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.appl.name,Element:o.h,fieldCode:"appl.name",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"applDes",defaultMessage:"Applicant's Designation"})),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.appl.des,Element:o.h,fieldCode:"appl.des",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"applMob",defaultMessage:"Applicant's Moblie"})),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.appl.mob,Element:o.i,tel:!0,fieldCode:"appl.mob",api:a}))))}function b(){var e=Object(n.useContext)(i.b).user,a="/api/source/edit";return s.a.createElement("div",{className:"view"},s.a.createElement("h1",null,s.a.createElement(d.a,{id:"jamiaProfile",defaultMessage:"Jamia Profile"})),s.a.createElement("ul",{id:"profileInfo"},s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"joined",defaultMessage:"Joined"})),s.a.createElement("li",{className:"data"},s.a.createElement(u.a,{value:e.joined,day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"fatwa",defaultMessage:"Fatwa"})),s.a.createElement("li",{className:"data"},s.a.createElement(u.b,{value:e.fatwa})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"id",defaultMessage:"ID"})),s.a.createElement("li",{className:"data"},e.id),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"password",defaultMessage:"Password"})),s.a.createElement("li",{className:"data"},s.a.createElement(f.g,{api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"name",defaultMessage:"Name (Bangla)"})," ",s.a.createElement("small",null,"(",s.a.createElement(d.a,{id:"ban"}),")")),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{api:a,defaultValue:e.name["bn-BD"],Element:o.h,fieldCode:"name.bn-BD"})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"name",defaultMessage:"Name (English)"})," ",s.a.createElement("small",null,"(",s.a.createElement(d.a,{id:"eng"}),")")),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{api:a,defaultValue:e.name["en-US"],Element:o.h,fieldCode:"name.en-US"})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"add",defaultMessage:"Address"})),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.add,Element:o.n,fieldCode:"add",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"contact",defaultMessage:"Contact"})),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.mob,Element:o.i,tel:!0,fieldCode:"mob",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"gradFrom",defaultMessage:"Graduated from Bangla"})," ",s.a.createElement("small",null,"(",s.a.createElement(d.a,{id:"ban"}),")")),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.grad.versity["bn-BD"],Element:o.h,fieldCode:"grad.versity.bn-BD",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"gradFrom",defaultMessage:"Graduated from English"})," ",s.a.createElement("small",null,"(",s.a.createElement(d.a,{id:"eng"}),")")),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.grad.versity["en-US"],Element:o.h,fieldCode:"grad.versity.en-US",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"work",defaultMessage:"Work (bangla)"})," ",s.a.createElement("small",null,"(",s.a.createElement(d.a,{id:"ban"}),")")),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.inst["bn-BD"],Element:o.h,fieldCode:"inst.bn-BD",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"work",defaultMessage:"Work (English)"})," ",s.a.createElement("small",null,"(",s.a.createElement(d.a,{id:"eng"}),")")),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.inst["en-US"],Element:o.h,fieldCode:"inst.en-US",api:a})),s.a.createElement("li",{className:"label"},s.a.createElement(d.a,{id:"about",defaultMessage:"About"})),s.a.createElement("li",{className:"data"},s.a.createElement(f.d,{defaultValue:e.about,Element:o.n,fieldCode:"about",api:a}))))}var h=Object(E.c)((function(e){var a=e.intl,t=Object(n.useContext)(i.b).locale;return s.a.createElement("div",{className:"view"},s.a.createElement("h1",{className:"viewTitle"},s.a.createElement(d.a,{id:"fatwa",defaultMessage:"Fatwa"})),s.a.createElement(m.e,{page:"/source/fatwa/",tabs:[{label:s.a.createElement(d.a,{id:"live",defaultMessage:"Live"}),link:"live"},{label:s.a.createElement(d.a,{id:"pending",defaultMessage:"pending"}),link:"pending"}]}),s.a.createElement(c.e,null,s.a.createElement(c.c,{path:"/source/fatwa",exact:!0},s.a.createElement(m.g,{key:"jamiaAllFatwa",Element:M,id:"allFatwa",api:"api/source/allFatwa/filter?",categories:[{default:!0,fieldName:"title",name:a.formatMessage({id:"title",defaultMessage:"Title"}),chip:a.formatMessage({id:"titleChip",defaultMessage:"Title contains:"}),input:s.a.createElement(o.h,{autoFocus:!0,label:s.a.createElement(d.a,{id:"titleChip",defaultMessage:"Title contains:"}),required:!0})},{fieldName:"topic",name:a.formatMessage({id:"topic",defaultMessage:"Topic"}),chip:a.formatMessage({id:"topicChip",defaultMessage:"Topic is"}),input:s.a.createElement(o.d,{id:Object(o.g)(8),maxHeight:300,label:s.a.createElement(d.a,{id:"topicChip",defaultMessage:"topic is"}),options:o.p.map((function(e){return{label:e[t],value:e}}))})},{fieldName:"ques",name:a.formatMessage({id:"question",defaultMessage:"Question"}),chip:a.formatMessage({id:"quesChip",defaultMessage:"Question contains"}),input:s.a.createElement(o.h,{autoFocus:!0,label:s.a.createElement(d.a,{id:"quesChip",defaultMessage:"Question contains"}),required:!0})},{fieldName:"ans",name:a.formatMessage({id:"answer",defaultMessage:"Answer"}),display:a.formatMessage({id:"ansChip",defaultMessage:"Answer contains"}),input:s.a.createElement(o.h,{autoFocus:!0,label:s.a.createElement(d.a,{id:"ansChip",defaultMessage:"Answer contains"}),required:!0})},{fieldName:"translation",name:a.formatMessage({id:"translation",defaultMessage:"Translation"}),chip:a.formatMessage({id:"translationChip",defaultMessage:"Translation:"}),input:s.a.createElement(o.d,{maxHeight:500,label:s.a.createElement(d.a,{id:"translation",defaultMessage:"Translation:"}),options:[{label:a.formatMessage({id:"translationAuto",defaultMessage:"Auto"}),value:"generated"},{label:a.formatMessage({id:"translationManual",defaultMessage:"Manual"}),value:"manual"}]})}],columns:[{column:s.a.createElement(d.a,{id:"topic",defaultMessage:"Topic"}),sort:!0,colCode:"topic"},{column:s.a.createElement(d.a,{id:"date",defaultMessage:"Date"}),sort:!0,colCode:"createdAt"},{column:s.a.createElement(d.a,{id:"title",defaultMessage:"Title"}),sort:!1,colCode:"title"},{column:s.a.createElement(d.a,{id:"translation",defaultMessage:"Translation"}),sort:!0,colCode:"translation"}],defaultSort:{column:"createdAt",order:"des"}})),s.a.createElement(c.c,{path:"/source/fatwa/live"},s.a.createElement(m.g,{key:"jamiaAllFatwa",Element:M,id:"allFatwa",api:"api/source/allFatwa/filter?",categories:[{default:!0,fieldName:"title",name:a.formatMessage({id:"title",defaultMessage:"Title"}),chip:a.formatMessage({id:"titleChip",defaultMessage:"Title contains:"}),input:s.a.createElement(o.h,{autoFocus:!0,label:s.a.createElement(d.a,{id:"titleChip",defaultMessage:"Title contains:"}),required:!0})},{fieldName:"topic",name:a.formatMessage({id:"topic",defaultMessage:"Topic"}),chip:a.formatMessage({id:"topicChip",defaultMessage:"Topic is"}),input:s.a.createElement(o.d,{id:Object(o.g)(8),maxHeight:300,label:s.a.createElement(d.a,{id:"topicChip",defaultMessage:"topic is"}),options:o.p.map((function(e){return{label:e[t],value:e}}))})},{fieldName:"ques",name:a.formatMessage({id:"question",defaultMessage:"Question"}),chip:a.formatMessage({id:"quesChip",defaultMessage:"Question contains"}),input:s.a.createElement(o.h,{autoFocus:!0,label:s.a.createElement(d.a,{id:"quesChip",defaultMessage:"Question contains"}),required:!0})},{fieldName:"ans",name:a.formatMessage({id:"answer",defaultMessage:"Answer"}),display:a.formatMessage({id:"ansChip",defaultMessage:"Answer contains"}),input:s.a.createElement(o.h,{autoFocus:!0,label:s.a.createElement(d.a,{id:"ansChip",defaultMessage:"Answer contains"}),required:!0})},{fieldName:"translation",name:a.formatMessage({id:"translation",defaultMessage:"Translation"}),chip:a.formatMessage({id:"translationChip",defaultMessage:"Translation:"}),input:s.a.createElement(o.d,{maxHeight:500,label:s.a.createElement(d.a,{id:"translation",defaultMessage:"Translation:"}),options:[{label:a.formatMessage({id:"translationAuto",defaultMessage:"Auto"}),value:"generated"},{label:a.formatMessage({id:"translationManual",defaultMessage:"Manual"}),value:"manual"}]})}],columns:[{column:s.a.createElement(d.a,{id:"topic",defaultMessage:"Topic"}),sort:!0,colCode:"topic"},{column:s.a.createElement(d.a,{id:"date",defaultMessage:"Date"}),sort:!0,colCode:"createdAt"},{column:s.a.createElement(d.a,{id:"title",defaultMessage:"Title"}),sort:!1,colCode:"title"},{column:s.a.createElement(d.a,{id:"translation",defaultMessage:"Translation"}),sort:!0,colCode:"translation"}],defaultSort:{column:"createdAt",order:"des"}})),s.a.createElement(c.c,{path:"/source/fatwa/pending"},s.a.createElement(m.g,{key:"jamiaAllFatwaSubmission",Element:N,id:"fatwaSubmissions",api:"api/source/fatwaSubmissions/filter?",categories:[{default:!0,fieldName:"title",name:a.formatMessage({id:"title",defaultMessage:"Title"}),chip:a.formatMessage({id:"titleChip",defaultMessage:"Title contains:"}),input:s.a.createElement(o.h,{autoFocus:!0,label:s.a.createElement(d.a,{id:"titleChip",defaultMessage:"Title contains:"}),required:!0})},{fieldName:"topic",name:a.formatMessage({id:"topic",defaultMessage:"Topic"}),chip:a.formatMessage({id:"topicChip",defaultMessage:"Topic is"}),input:s.a.createElement(o.d,{id:Object(o.g)(8),maxHeight:300,label:s.a.createElement(d.a,{id:"topicChip",defaultMessage:"topic is"}),options:o.p.map((function(e){return{label:e[t],value:e}}))})},{fieldName:"ques",name:a.formatMessage({id:"question",defaultMessage:"Question"}),chip:a.formatMessage({id:"quesChip",defaultMessage:"Question contains"}),input:s.a.createElement(o.h,{autoFocus:!0,label:s.a.createElement(d.a,{id:"quesChip",defaultMessage:"Question contains"}),required:!0})},{fieldName:"ans",name:a.formatMessage({id:"answer",defaultMessage:"Answer"}),display:a.formatMessage({id:"ansChip",defaultMessage:"Answer contains"}),input:s.a.createElement(o.h,{autoFocus:!0,label:s.a.createElement(d.a,{id:"ansChip",defaultMessage:"Answer contains"}),required:!0})}],columns:[{column:s.a.createElement(d.a,{id:"date",defaultMessage:"Date"}),sort:!0,colCode:"createdAt"},{column:s.a.createElement(d.a,{id:"topic",defaultMessage:"Topic"}),sort:!0,colCode:"topic"},{column:s.a.createElement(d.a,{id:"title",defaultMessage:"title"}),sort:!1}],defaultSort:{column:"createdAt",order:"des"}}))))}));function N(e){var a=e.data,t=e.setData,r=Object(n.useContext)(i.b),m=r.locale,o=r.setFatwaToEdit,E=Object(n.useState)(!1),f=Object(l.a)(E,2),p=f[0],g=f[1],b=a,h=Object(c.h)();return p?s.a.createElement("tr",{"data-id":b._id,className:"full"},s.a.createElement("td",{className:"label"},"Submitted"),s.a.createElement("td",{className:"data"},s.a.createElement(u.a,{value:b.submitted,day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",{className:"label"},"topic"),s.a.createElement("td",{className:"data"},b.topic[m]),s.a.createElement("td",{className:"label"},"title (Bangla)"),s.a.createElement("td",{className:"data"},b.title["bn-BD"]),b.title["en-US"]&&s.a.createElement(s.a.Fragment,null,s.a.createElement("td",{className:"label"},"title (English)"),s.a.createElement("td",{className:"data"},b.title["en-US"])),s.a.createElement("td",{className:"label"},"question (Bangla)"),s.a.createElement("td",{className:"data"},b.ques["bn-BD"]),b.ques["en-US"]&&s.a.createElement(s.a.Fragment,null,s.a.createElement("td",{className:"label"},"question (English)"),s.a.createElement("td",{className:"data"},b.ques["en-US"])),s.a.createElement("td",{className:"label"},"answer (Bangla)"),s.a.createElement("td",{className:"data"},b.ans["bn-BD"]),b.ans["en-US"]&&s.a.createElement(s.a.Fragment,null,s.a.createElement("td",{className:"label"},"answer (English)"),s.a.createElement("td",{className:"data"},b.ans["en-US"])),s.a.createElement("td",{className:"label"},"Ref."),s.a.createElement("td",{className:"data"},s.a.createElement("ul",null,b.ref.map((function(e,a){return e.book?s.a.createElement("li",{key:e.book+e.part+e.page},s.a.createElement(d.a,{id:"book",defaultMessage:"Book"}),":"," ",e.book,","," ",s.a.createElement(d.a,{id:"part",defaultMessage:"Part"}),":"," ",s.a.createElement(u.b,{value:e.part}),","," ",s.a.createElement(d.a,{id:"page",defaultMessage:"Page"}),":"," ",s.a.createElement(u.b,{value:e.page})):e.sura?s.a.createElement("li",{key:e.sura+e.aayat},s.a.createElement(d.a,{id:"sura",defaultMessage:"Sura"}),":"," ",e.sura,",",s.a.createElement(d.a,{id:"aayat",defaultMessage:"Aayat"}),":"," ",s.a.createElement(u.b,{value:e.aayat})):s.a.createElement("li",{key:e.hadith+e.hadithNo},s.a.createElement(d.a,{id:"hadith",defaultMessage:"hadith book"}),":"," ",e.hadith,","," ",s.a.createElement(d.a,{id:"hadithNo",defaultMessage:"Hadith No"}),":"," ",s.a.createElement(u.b,{value:e.hadithNo}))})))),s.a.createElement("td",{className:"data btns"},s.a.createElement("button",{onClick:function(){return g(!1)}},s.a.createElement("ion-icon",{name:"chevron-up-outline"})," Hide Detail"),s.a.createElement("button",{onClick:function(){o(b),h.push("/source/editFatwa/"+b._id)}},s.a.createElement("ion-icon",{name:"pencil-outline"})," Edit"),s.a.createElement("button",{onClick:function(){fetch("/api/fatwaSubmissions/".concat(b._id),{method:"DELETE"}).then((function(e){200===e.status?t((function(e){return e.filter((function(e){return e._id!==b._id}))})):alert("something went wrong")})).catch((function(e){alert("something went wrong"),console.log(e)}))}},s.a.createElement("ion-icon",{name:"trash-outline"})," Remove"))):s.a.createElement("tr",{"data-id":b._id,onClick:function(){return g(!0)}},s.a.createElement("td",null,s.a.createElement(u.a,{value:b.submitted,day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",null,b.topic[m]),s.a.createElement("td",null,b.title[m]))}function M(e){var a=e.data,t=e.setData,m=Object(n.useContext)(i.b),d=m.locale,E=m.setFatwaToEdit,f=Object(n.useState)(!1),p=Object(l.a)(f,2),g=p[0],b=p[1],h=a,N=Object(c.h)(),M=Object(n.useState)(!1),v=Object(l.a)(M,2),w=v[0],C=v[1];return w?s.a.createElement("tr",{className:"full"},s.a.createElement("td",{className:"label"},"Added"),s.a.createElement("td",{className:"data"},s.a.createElement(u.a,{value:h.added,day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",{className:"label"},"title"),s.a.createElement("td",{className:"data"},s.a.createElement(r.b,{target:"_blank",to:"/fatwa/".concat(h.link[d])},h.title[d],s.a.createElement("ion-icon",{name:"open-outline"}))),s.a.createElement("td",{className:"label"},"translate"),s.a.createElement("td",{className:"data"},h.translation?"Yes":"No"),s.a.createElement("td",{className:"data btns"},s.a.createElement("button",{onClick:function(){return C(!1)}},s.a.createElement("ion-icon",{name:"chevron-up-outline"})," Hide Detail"),s.a.createElement("button",{onClick:function(){E(h),N.push("/source/editFatwa/"+h._id)}},s.a.createElement("ion-icon",{name:"pencil-outline"})," Edit"),s.a.createElement(o.m,{label:s.a.createElement(s.a.Fragment,null,s.a.createElement("ion-icon",{name:"trash-outline"})," Delete Fatwa"),loading:g,setLoading:b,onClick:function(){window.confirm("Do you want to delete this fatwa?")&&(b(!0),fetch("/api/source/fatwa/",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({fatwa:h._id,source:h.source})}).then((function(e){return e.json()})).then((function(e){b(!1),"ok"===e.code?t((function(e){return e.filter((function(e){return e._id!==h._id}))})):alert("something went wrong.")})).catch((function(e){alert("something went wrong."),console.log(e)})))}}))):s.a.createElement("tr",{"data-id":h._id,onClick:function(){return C(!0)}},s.a.createElement("td",null,h.topic[d]),s.a.createElement("td",null,s.a.createElement(u.a,{value:h.createdAt,day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",null,h.title[d]),s.a.createElement("td",null,h.translation?"Yes":"No"))}function v(){return s.a.createElement("div",{className:"view"},s.a.createElement("h1",{className:"viewTitle"},s.a.createElement(d.a,{id:"review",defaultMessage:"Review"})),s.a.createElement(m.e,{page:"/source/userSubmissions/",tabs:[{label:"Reviews",link:"reviews"},{label:"Reports",link:"reports"}]}),s.a.createElement(c.e,null))}function w(){return s.a.createElement("div",{className:"view questionFeed"},s.a.createElement("h1",{className:"viewTitle"},s.a.createElement(d.a,{id:"questionFeed",defaultMessage:"Question Feed"})),s.a.createElement(m.e,{page:"/source/questionFeed/",tabs:[{label:s.a.createElement(d.a,{id:"newQuestions",defaultMessage:"New Questions"}),link:"newQuestions"}]}),s.a.createElement(c.e,null,s.a.createElement(c.c,{path:"/source/questionFeed",exact:!0},s.a.createElement(C,null)),s.a.createElement(c.c,{path:"/source/questionFeed/newQuestions"},s.a.createElement(C,null))))}var C=Object(E.c)((function(e){var a=e.intl,t=new AbortController,c=t.signal,r=Object(n.useContext)(i.b).locale,u=Object(n.useState)(!0),E=Object(l.a)(u,2),f=E[0],p=E[1],g=Object(n.useState)({column:"createdAt",order:"asc"}),b=Object(l.a)(g,2),h=b[0],N=b[1],M=Object(n.useState)([]),v=Object(l.a)(M,2),w=v[0],C=v[1];return Object(n.useEffect)((function(){p(!0);var e,a=(e=h,Object.keys(e).map((function(a){return"".concat(a,"=").concat(e[a])})).join("&")),l={headers:{"Accept-Language":r},signal:c},n="/api/source/questionFeed/filter?&".concat(a);return fetch(n,l).then((function(e){return e.json()})).then((function(e){p(!1),C(e)})).catch((function(e){console.log(e),console.log("handle error!!")})),function(){return t.abort()}}),[h]),f||0!==w.length?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"filters"},s.a.createElement(o.d,{disabled:f,defaultValue:1,onChange:function(e){return N(e.value)},maxHeight:200,id:"questionFeedSort",icon:"layers",options:[{label:a.formatMessage({id:"newFirts"}),value:{column:"createdAt",order:"des"}},{label:a.formatMessage({id:"oldFirst"}),value:{column:"createdAt",order:"asc"}}]})),s.a.createElement("ul",{className:"feed"},f?s.a.createElement(m.b,null):w.map((function(e){return s.a.createElement(F,{key:e._id,data:e})})))):s.a.createElement("div",{className:"noQuestion"},s.a.createElement("ion-icon",{name:"file-tray-outline"}),s.a.createElement("p",null,s.a.createElement(d.a,{id:"nothingHere"})))}));function F(e){var a=e.data,t=Object(n.useContext)(i.b),l=t.locale,r=t.user,E=Object(c.h)(),f=Object(n.useRef)(null);return s.a.createElement("li",{ref:f,className:"question mini",onClick:function(e){e.target===f.current&&E.push("/source/userQuestion/"+a._id)}},s.a.createElement("div",{className:"user"},s.a.createElement("p",{className:"name"},a.user.name),s.a.createElement("p",{className:"date"},new Date(a.createdAt).getFullYear()!==(new Date).getFullYear()?s.a.createElement(u.a,{value:a.createdAt,day:"numeric",month:"long",year:"2-digit"}):s.a.createElement(u.a,{value:a.createdAt,day:"numeric",month:"long"}),s.a.createElement("span",{className:"separator"}),s.a.createElement(u.c,{value:a.createdAt},(function(e){return s.a.createElement(s.a.Fragment,null,e[0].value,e[1].value,e[2].value,s.a.createElement("small",null,e[4].value.toLowerCase()))})))),s.a.createElement(m.a,{icon:"reorder-two-outline",actions:[{label:"Answer now",action:function(){o.l.set("userAns-ques",a.ques.body),o.l.set("userAns-topic",JSON.stringify(a.ques.topic)),E.push("/source/userQuestion/".concat(a._id,"/add"))}},{label:"Report",action:function(){E.push("/source/userQuestion/".concat(a._id,"/report"))}}]}),s.a.createElement("p",{className:"ques"},a.ques.body),s.a.createElement("ul",{className:"tags"},s.a.createElement("li",{className:"tag"},a.ques.topic[l]),s.a.createElement("li",{className:"tag"},s.a.createElement(d.a,{values:{number:s.a.createElement(u.b,{value:a.ans.length})},id:"ans.tag.ansCount",defaultMessage:"".concat(a.ans.length," Answer(s)")})),a.ans.filter((function(e){return e.source===r._id})).length>0&&s.a.createElement("li",{className:"tag"},s.a.createElement(d.a,{id:"ans.tag.iAnswered",defaultMessage:"I answered"}))))}function j(e){var a=e.history,t=e.match,m=Object(n.useContext)(i.b).user,o=Object(n.useState)(!0),d=Object(l.a)(o,2),E=d[0],g=d[1],b=Object(n.useState)({}),h=Object(l.a)(b,2),N=h[0],M=h[1],v=Object(n.useState)(!1),w=Object(l.a)(v,2),C=w[0],F=w[1];return Object(n.useEffect)((function(){fetch("/api/source/userQues/"+t.params._id).then((function(e){return e.json()})).then((function(e){g(!1),"ok"===e.code&&(M(e.content),e.content.ans.filter((function(e){return e.source._id===m._id})).length>0&&F(!0))})).catch((function(e){alert("something went wrong"),console.log(e)}))}),[]),N.ques?s.a.createElement("div",{className:"view userQues"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"ques"},s.a.createElement("div",{className:"user"},s.a.createElement("p",{className:"name"},s.a.createElement("b",null,N.user.name),s.a.createElement("span",{className:"separator"}),s.a.createElement("i",null,s.a.createElement("span",{className:"add"},N.user.add))),s.a.createElement("p",{className:"date"},s.a.createElement(u.a,{value:N.createdAt,day:"numeric",month:"long",year:"2-digit"}),s.a.createElement("span",{className:"separator"}),s.a.createElement(u.c,{value:N.createdAt},(function(e){return s.a.createElement(s.a.Fragment,null,e[0].value,e[1].value,e[2].value,s.a.createElement("small",null,e[4].value.toLowerCase()))})))),s.a.createElement("p",{className:"body"},N.ques.body)),C?s.a.createElement("div",{className:"HR"},s.a.createElement("span",{className:"hr"}),s.a.createElement("span",{className:"content"},"\u09a8\u09bf\u09ac\u09c7\u09a6\u09bf\u09a4 \u0989\u09a4\u09cd\u09a4\u09b0 \u09b8\u09ae\u09c2\u09b9"),s.a.createElement("span",{className:"hr"})):s.a.createElement(r.b,{className:"addAns",to:"".concat(t.url,"/add")},"Add Answer"),N.ans.map((function(e){return s.a.createElement(y,{key:e._id,ques:N,ans:e,setQues:M})})),s.a.createElement(c.c,{path:"".concat(t.url,"/add")},s.a.createElement(p.a,{open:!0,setOpen:function(){return a.push(t.url)},className:"answerForm"},s.a.createElement("ion-icon",{name:"close-outline",onClick:function(){return a.push(t.url)}}),s.a.createElement(f.k,{setQues:M,ques:N.ques,_id:N._id}))),s.a.createElement(c.c,{path:"".concat(t.url,"/report")},s.a.createElement(p.a,{open:!0,setOpen:function(){return a.push(t.url)},className:"answerForm"},s.a.createElement(f.l,{_id:N._id}))))):s.a.createElement("div",{className:"view"},E?s.a.createElement("h1",null,"loading"):s.a.createElement("p",null,"Question not found!"))}function y(e){var a=e.ques,t=e.ans,r=e.setQues,E=Object(n.useContext)(i.b),f=E.locale,p=E.user,g=Object(n.useState)(!1),b=Object(l.a)(g,2),h=b[0],N=b[1],M=Object(n.useState)(!1),v=Object(l.a)(M,2),w=v[0],C=v[1],F=Object(n.useState)((function(){return t.vote.voters.some((function(e){return e.source===p._id&&e.vote}))||!1})),j=Object(l.a)(F,2),y=j[0],k=j[1];Object(n.useEffect)((function(){k(t.vote.voters.some((function(e){return e.source===p._id&&e.vote}))||!1)}),[t,p._id]);var A=Object(c.h)();function O(e){N(!0);var l={method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({voter:p._id,ans_id:t._id,vote:e.target.getAttribute("name").includes("up")?"up":"down"})};fetch("/api/source/userQues/vote/".concat(a._id),l).then((function(e){return e.json()})).then((function(e){if(N(!1),"ok"!==e.code)throw e.code;r(e.content)})).catch((function(e){console.log(e),alert("something went wrong")}))}return s.a.createElement("div",{className:"ans ".concat(t.source._id===p._id?"mine":""," ").concat(w?"":"mini")},s.a.createElement("div",{className:"vote",disabled:h},s.a.createElement("div",{className:"content ".concat(y)},s.a.createElement("ion-icon",{onClick:O,name:"chevron-up-outline"}),s.a.createElement("p",{className:"voteCount"},s.a.createElement(u.b,{value:t.vote.count})),s.a.createElement("ion-icon",{onClick:O,name:"chevron-down-outline"}))),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"source"},s.a.createElement("p",{className:"name"},s.a.createElement("b",null,t.source.name[f])),s.a.createElement("p",{className:"date"},s.a.createElement(u.a,{value:t.createdAt,day:"numeric",month:"long",year:"2-digit"}),s.a.createElement("span",{className:"separator"}),s.a.createElement(u.c,{value:t.createdAt},(function(e){return s.a.createElement(s.a.Fragment,null,e[0].value,e[1].value,e[2].value,s.a.createElement("small",null,e[4].value.toLowerCase()))})))),s.a.createElement("div",{className:"body"},s.a.createElement("p",{className:"title"},t.topic[f],": ",t.title),s.a.createElement("p",{className:"answer"},t.body)),w&&t.ref.length>0&&s.a.createElement("div",{className:"ref"},s.a.createElement("p",null,s.a.createElement(d.a,{id:"ref",value:"Ref."})),s.a.createElement("ul",{className:"ref"},t.ref.map((function(e,a){return e.book?s.a.createElement("li",{key:e.book+e.part+e.page},s.a.createElement(d.a,{id:"book",defaultMessage:"Book"}),":"," ",e.book,","," ",e.part&&s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{id:"part",defaultMessage:"Part"}),":"," ",s.a.createElement(u.b,{value:e.part}),",")," ",s.a.createElement(d.a,{id:"page",defaultMessage:"Page"}),":"," ",s.a.createElement(u.b,{value:e.page})):e.sura?s.a.createElement("li",{key:e.sura+e.aayat},s.a.createElement(d.a,{id:"sura",defaultMessage:"Sura"}),":"," ",e.sura,","," ",s.a.createElement(d.a,{id:"aayat",defaultMessage:"Aayat"}),":"," ",s.a.createElement(u.b,{value:e.aayat})):s.a.createElement("li",{key:e.hadith+e.hadithNo},s.a.createElement(d.a,{id:"hadith",defaultMessage:"hadith book"}),": ",e.hadith,","," ",s.a.createElement(d.a,{id:"hadithNo",defaultMessage:"Hadith No"}),": ",s.a.createElement(u.b,{value:e.hadithNo}))})))),!w&&s.a.createElement("div",{className:"tags"},s.a.createElement("p",{className:"tag"},s.a.createElement(d.a,{values:{number:s.a.createElement(u.b,{value:t.ref.length})},id:"ans.tag.refCount",defaultMessage:"".concat(t.ref.length," Reference(s)")})),s.a.createElement("p",{className:"tag"},s.a.createElement(d.a,{values:{number:s.a.createElement(u.b,{value:t.vote.voters.length})},id:"ans.tag.voteCount",defaultMessage:"".concat(t.vote.voters.length," Vote(s)")}))),s.a.createElement("span",{onClick:function(){return C(!w)},className:"showFull"},w?"\u09aa\u09c1\u09b0\u09cb \u0989\u09a4\u09cd\u09a4\u09b0 \u0997\u09cb\u09aa\u09a8 \u0995\u09b0\u09c1\u09a8":"\u09aa\u09c1\u09b0\u09cb \u0989\u09a4\u09cd\u09a4\u09b0 \u09a6\u09c7\u0996\u09c1\u09a8")),t.source._id===p._id?s.a.createElement(m.a,{icon:"reorder-two-outline",actions:[{label:"Edit",action:function(){o.l.set("ansFatwa-ans",t.body),o.l.set("ansFatwa-title",t.title),o.l.set("ansFatwa-ref",JSON.stringify(t.ref)),o.l.set("ansFatwa-date",t.meta.date),o.l.set("ansFatwa-write",t.meta.write),o.l.set("ansFatwa-atts",t.meta.atts),A.push(A.location.pathname+"/add")}},{label:"Remove",action:function(){var e={method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({source:t.source._id,_id:t._id})};N(!0),fetch("/api/source/userQues/answer/".concat(a._id),e).then((function(e){return e.json()})).then((function(e){if(N(!1),"ok"!==e.code)throw e.code;r(e.content)})).catch((function(e){console.log(e),alert("something went wrong")}))}}]}):s.a.createElement(m.a,{icon:"reorder-two-outline",actions:[{label:"Report",action:function(){console.log("report here")}}]}))}a.default=function(){var e=Object(n.useContext)(i.b),a=e.user,t=e.locale,l=e.setSidebarSize;return a&&"admin"!==a.role?s.a.createElement("div",{className:"main jamiaProfile"},s.a.createElement(m.d,{views:[{label:s.a.createElement(d.a,{id:"newFatwa",defaultMessage:"New Fatwa"}),path:"/source/newFatwa",icon:"add"},{label:s.a.createElement(d.a,{id:"fatwa",defaultMessage:"Fatwa"}),path:"/source/fatwa",icon:"reader"},{label:s.a.createElement(d.a,{id:"questionFeed",defaultMessage:"Question Feed"}),path:"/source/questionFeed",icon:"mail"}]},s.a.createElement("div",{className:"profile"},s.a.createElement(r.b,{to:"/source/profile",onClick:function(){window.innerWidth<1080&&l("mini")}},s.a.createElement("h2",null,a.name[t][0])),s.a.createElement("p",null,a.name[t]),s.a.createElement("p",{className:"add"},a.add))),s.a.createElement(c.e,null,s.a.createElement(c.c,{path:"/source/newFatwa",component:function(e){return s.a.createElement("div",{className:"view"},s.a.createElement("h1",null,s.a.createElement(d.a,{id:"addNewFatwa",defaultMessage:"Add new Fatwa"})),s.a.createElement(f.a,e))}}),s.a.createElement(c.c,{path:"/source/editFatwa/:id",component:function(e){return s.a.createElement("div",{className:"view"},s.a.createElement("h1",null,s.a.createElement(d.a,{id:"editFatwa",defaultMessage:"Edit Fatwa"})),s.a.createElement(f.a,e))}}),s.a.createElement(c.c,{path:"/source/questionFeed",component:w}),s.a.createElement(c.c,{path:"/source/userQuestion/:_id",component:j}),s.a.createElement(c.c,{path:"/source",exact:!0,component:h}),s.a.createElement(c.c,{path:"/source/fatwa",component:h}),"jamia"===a.role?s.a.createElement(c.c,{path:"/source/profile",component:g}):s.a.createElement(c.c,{path:"/source/profile",component:b}),s.a.createElement(c.c,{path:"/source/userSubmissions",component:v}),s.a.createElement(c.c,{path:"/"},s.a.createElement("div",{className:"view"},s.a.createElement("h3",null,"404"),s.a.createElement("p",null,"broken link"))))):s.a.createElement(c.b,{to:"/login"})}}}]);
//# sourceMappingURL=5.8330a7b2.chunk.js.map