(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{83:function(e,a,t){"use strict";t.r(a);var n=t(3),l=t(0),s=t.n(l),c=t(5),r=t(6),i=t(7),m=(t(81),t(82),t(1)),o=t(21),d=t(29),u=t(2),E=t(10),f=t(15),p=t(45),g=t(24);function b(){return s.a.createElement("div",{className:"view"},s.a.createElement("h1",{className:"viewTitle"},s.a.createElement(u.a,{id:"source",defaultMessage:"Source"})),s.a.createElement(d.e,{page:"/admin/sources/",tabs:[{label:s.a.createElement(u.a,{id:"active",defaultMessage:"Active"}),link:"active"},{label:s.a.createElement(u.a,{id:"pending",defaultMessage:"Pending"}),link:"Submissions"}]}),s.a.createElement(c.e,null,s.a.createElement(c.c,{path:"/admin/sources",exact:!0},s.a.createElement(d.g,{key:"allJamia",Element:v,defaultSort:{column:"joined",order:"des"},id:"allJamia",api:"api/admin/sources/active/filter?",categories:[{name:"role",bridge:"is",input:s.a.createElement(m.d,{label:s.a.createElement(u.a,{id:"type",defaultMessage:"Type"}),options:[{label:"Jamia",value:"jamia"},{label:"Mufti",value:"mufti"}]})}],columns:[{column:s.a.createElement(u.a,{id:"id",defaultMessage:"Id"}),sort:!1,colCode:"id"},{column:s.a.createElement(u.a,{id:"type",defaultMessage:"Type"}),sort:!0,colCode:"role"},{column:s.a.createElement(u.a,{id:"name",defaultMessage:"Name"}),sort:!1,colCode:"name"},{column:s.a.createElement(u.a,{id:"joined",defaultMessage:"Joined"}),sort:!0,colCode:"joined"},{column:s.a.createElement(u.a,{id:"fatwa",defaultMessage:"Fatwa"}),sort:!0,colCode:"fatwa"},{column:s.a.createElement(u.a,{id:"contact",defaultMessage:"Contact"}),sort:!1,colCode:"contact"}]})),s.a.createElement(c.c,{path:"/admin/sources/active"},s.a.createElement(d.g,{key:"allJamia",Element:v,defaultSort:{column:"joined",order:"des"},id:"allJamia",api:"api/admin/sources/active/filter?",categories:[{name:"role",bridge:"is",input:s.a.createElement(m.d,{label:s.a.createElement(u.a,{id:"type",defaultMessage:"Type"}),options:[{label:"Jamia",value:"jamia"},{label:"Mufti",value:"mufti"}]})}],columns:[{column:s.a.createElement(u.a,{id:"id",defaultMessage:"Id"}),sort:!1,colCode:"id"},{column:s.a.createElement(u.a,{id:"type",defaultMessage:"Type"}),sort:!0,colCode:"role"},{column:s.a.createElement(u.a,{id:"name",defaultMessage:"Name"}),sort:!1,colCode:"name"},{column:s.a.createElement(u.a,{id:"joined",defaultMessage:"Joined"}),sort:!0,colCode:"joined"},{column:s.a.createElement(u.a,{id:"fatwa",defaultMessage:"Fatwa"}),sort:!0,colCode:"fatwa"},{column:s.a.createElement(u.a,{id:"contact",defaultMessage:"Contact"}),sort:!1,colCode:"contact"}]})),s.a.createElement(c.c,{path:"/admin/sources/submissions"},s.a.createElement(d.g,{key:"allSourceSubmissions",Element:h,defaultSort:{column:"joined",order:"des"},id:"jamiaSubmissions",api:"api/admin/sources/submissions/filter?",categories:[{name:"role",input:s.a.createElement(m.d,{label:s.a.createElement(u.a,{id:"type",defaultMessage:"Type"}),options:[{label:"jamia",value:"jamia"},{label:"mufti",value:"mufti"}]})}],columns:[{column:s.a.createElement(u.a,{id:"date",defaultMessage:"Date"}),sort:!0,colCode:"joined"},{column:s.a.createElement(u.a,{id:"type",defaultMessage:"Type"}),sort:!0,colCode:"role"},{column:s.a.createElement(u.a,{id:"name",defaultMessage:"Name"}),sort:!1,colCode:"name"},{column:s.a.createElement(u.a,{id:"contact",defaultMessage:"Contact"}),sort:!1,colCode:"contact"}]}))))}function h(e){var a=e.data,t=e.setData,c=Object(l.useState)(!1),r=Object(n.a)(c,2),i=r[0],m=r[1];function o(){m(!0),fetch("/api/admin/source/accept",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:a._id})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?(m(!1),t((function(e){return e.filter((function(e){return e._id!==a._id}))}))):alert("someting went wrong")})).catch((function(e){m(!1),console.log(e)}))}function d(){m(!0),fetch("/api/admin/source/reject",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:a._id})}).then((function(e){m(!1),200===e.status&&t((function(e){return e.filter((function(e){return e._id!==a._id}))}))})).catch((function(e){return console.log(e)}))}return"jamia"===a.role?s.a.createElement(N,{loading:i,data:a,accept:o,reject:d}):s.a.createElement(M,{loading:i,data:a,accept:o,reject:d})}function N(e){var a=e.loading,t=e.data,c=e.accept,r=e.reject,o=Object(l.useContext)(i.b).locale,d=Object(l.useState)(!1),u=Object(n.a)(d,2),f=u[0],p=u[1];return f?s.a.createElement("tr",{className:"full"},s.a.createElement("td",{className:"label"},"Submitted"),s.a.createElement("td",{className:"data"},s.a.createElement(E.a,{value:new Date(t.joined),day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",{className:"label"},"ID"),s.a.createElement("td",{className:"data"},t.id),s.a.createElement("td",{className:"label"},"Name"),s.a.createElement("td",{className:"data"},t.name[o]),s.a.createElement("td",{className:"label"},"Prime Mufti"),s.a.createElement("td",{className:"data"},t.primeMufti[o]),s.a.createElement("td",{className:"label"},"Address"),s.a.createElement("td",{className:"data"},t.address),s.a.createElement("td",{className:"label"},"Contact"),s.a.createElement("td",{className:"data"},s.a.createElement("a",{href:"tel:".concat(t.contact)},t.contact.replace("+88",""))),s.a.createElement("td",{className:"label"},"Applicant's Name"),s.a.createElement("td",{className:"data"},t.appl.name),s.a.createElement("td",{className:"label"},"Applicant's designation"),s.a.createElement("td",{className:"data"},t.appl.designation),s.a.createElement("td",{className:"label"},"Applicant's mobile"),s.a.createElement("td",{className:"data"},s.a.createElement("a",{href:"tel:".concat(t.appl.mob)},t.appl.mob.replace("+88",""))),s.a.createElement("td",{className:"data btns"},s.a.createElement(m.m,{loading:a,onClick:c,label:s.a.createElement(s.a.Fragment,null,s.a.createElement("ion-icon",{name:"checkmark-outline"})," Accept")}),s.a.createElement(m.m,{loading:a,onClick:r,label:s.a.createElement(s.a.Fragment,null,s.a.createElement("ion-icon",{name:"close-outline"})," Reject")}))):s.a.createElement("tr",{onClick:function(){return p(!f)}},s.a.createElement("td",null,s.a.createElement(E.a,{value:new Date(t.joined),day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",null,t.role),s.a.createElement("td",null,t.name[o],s.a.createElement("span",null,t.primeMufti[o])),s.a.createElement("td",null,s.a.createElement("a",{href:"tel:".concat(t.contact)},t.contact.replace("+88",""))))}function M(e){var a=e.loading,t=e.data,c=e.accept,r=e.reject,o=Object(l.useContext)(i.b).locale,d=Object(l.useState)(!1),u=Object(n.a)(d,2),f=u[0],p=u[1];return f?s.a.createElement("tr",{className:"full"},s.a.createElement("td",{className:"label"},"Submitted"),s.a.createElement("td",{className:"data"},s.a.createElement(E.a,{value:new Date(t.joined),day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",{className:"label"},"ID"),s.a.createElement("td",{className:"data"},t.id),s.a.createElement("td",{className:"label"},"Name"),s.a.createElement("td",{className:"data"},t.name[o]),s.a.createElement("td",{className:"label"},"Address"),s.a.createElement("td",{className:"data"},t.address),s.a.createElement("td",{className:"label"},"Graduation"),s.a.createElement("td",{className:"data"},t.grad.versity[o]),s.a.createElement("td",{className:"label"},"Contact"),s.a.createElement("td",{className:"data"},s.a.createElement("a",{href:"tel:".concat(t.mob)},t.mob.replace("+88",""))),s.a.createElement("td",{className:"data btns"},s.a.createElement(m.m,{loading:a,onClick:c,label:s.a.createElement(s.a.Fragment,null,s.a.createElement("ion-icon",{name:"checkmark-outline"})," Accept")}),s.a.createElement(m.m,{loading:a,onClick:r,label:s.a.createElement(s.a.Fragment,null,s.a.createElement("ion-icon",{name:"close-outline"})," Reject")}))):s.a.createElement("tr",{onClick:function(){return p(!f)}},s.a.createElement("td",null,s.a.createElement(E.a,{value:new Date(t.joined),day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",null,t.role),s.a.createElement("td",null,t.name[o],s.a.createElement("span",null,t.grad.versity[o],", ",t.grad.year)),s.a.createElement("td",null,s.a.createElement("a",{href:"tel:".concat(t.mob)},t.mob.replace("+88",""))))}function v(e){var a=e.data,t=e.setData,c=Object(l.useState)(!1),r=Object(n.a)(c,2),i=(r[0],r[1]);function m(e){console.log(e)}function o(){i(!0),window.confirm("You want to delete this jamia")&&fetch("/api/admin/source/",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:a._id})}).then((function(e){i(!1),200===e.status?t((function(e){return e.filter((function(e){return e._id!==a._id}))})):alert("something went wrong")})).catch((function(e){i(!1),console.log(e),alert("something went wrong")}))}var d="/api/admin/source/edit/".concat(a._id);return"jamia"===a.role?s.a.createElement(w,{jamia:a,remove:o,ghost:m,patchApi:d}):s.a.createElement(C,{mufti:a,remove:o,ghost:m,patchApi:d})}function w(e){var a=e.loading,t=e.jamia,c=e.ghost,r=e.remove,d=e.patchApi,u=Object(l.useContext)(i.b).locale,f=Object(l.useState)(!1),p=Object(n.a)(f,2),g=p[0],b=p[1];return g?s.a.createElement("tr",{className:"full"},s.a.createElement("td",{className:"label"},"Joined"),s.a.createElement("td",{className:"data"},s.a.createElement(E.a,{value:new Date(t.joined),day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",{className:"label"},"Fatwa"),s.a.createElement("td",{className:"data"},s.a.createElement(E.b,{value:t.fatwa})),s.a.createElement("td",{className:"label"},"ID"),s.a.createElement("td",{className:"data"},t.id),s.a.createElement("td",{className:"label"},"Password"),s.a.createElement("td",{className:"data"},s.a.createElement(o.g,{api:d})),s.a.createElement("td",{className:"label"},"Name (Bangla)"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{api:d,defaultValue:t.name["bn-BD"],Element:m.h,pattern:/^[\u0980-\u09fe\s(),]+$/,fieldCode:"name.bn-BD"})),s.a.createElement("td",{className:"label"},"Name (Enlish)"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{api:d,defaultValue:t.name["en-US"],Element:m.h,pattern:/^[a-zA-Z\s(),]+$/,fieldCode:"name.en-US"})),s.a.createElement("td",{className:"label"},"Prime Mufti (Bangla)"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.primeMufti["bn-BD"],Element:m.h,max:200,fieldCode:"primeMufti.bn-BD",api:d})),s.a.createElement("td",{className:"label"},"Prime Mufti (English)"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.primeMufti["en-US"],Element:m.h,max:200,fieldCode:"primeMufti.en-US",api:d})),s.a.createElement("td",{className:"label"},"Founder"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.founder,Element:m.n,max:200,fieldCode:"founder",api:d})),s.a.createElement("td",{className:"label"},"Address"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.address,Element:m.n,max:200,fieldCode:"address",api:d})),s.a.createElement("td",{className:"label"},"Contact"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.contact,Element:m.h,pattern:/^\+8801\d{0,9}$/,tel:!0,fieldCode:"contact",api:d})),s.a.createElement("td",{className:"label"},"About"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.about,Element:m.n,pattern:/^[\u0980-\u09e3\u09f0-\u09fea-zA-Z\s(),-]+$/,fieldCode:"about",api:d})),s.a.createElement("td",{className:"label"},"Applicant's Name"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.appl.name,Element:m.h,pattern:/^[\u0980-\u09e3\u09f0-\u09fea-zA-Z\s(),-]+$/,fieldCode:"appl.name",api:d})),s.a.createElement("td",{className:"label"},"Applicant's designation"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.appl.designation,Element:m.h,pattern:/^[\u0980-\u09e3\u09f0-\u09fea-zA-Z\s(),-]+$/,fieldCode:"appl.designation",api:d})),s.a.createElement("td",{className:"label"},"Applicant's mobile"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.appl.mob,Element:m.h,pattern:/^\+8801\d{0,9}$/,tel:!0,fieldCode:"appl.mob",api:d})),s.a.createElement("td",{className:"data btns"},s.a.createElement(m.m,{loading:a,onClick:c,label:s.a.createElement(s.a.Fragment,null,s.a.createElement("ion-icon",{name:"skull-outline"})," Ghost")}),s.a.createElement("button",{className:"hideDetail",onClick:function(){return b(!1)}},s.a.createElement("ion-icon",{name:"chevron-up-outline"}),"Hide Detail"),s.a.createElement(m.m,{loading:a,onClick:r,label:s.a.createElement(s.a.Fragment,null,s.a.createElement("ion-icon",{name:"trash-outline"})," Remove")}))):s.a.createElement("tr",{onClick:function(){return b(!0)}},s.a.createElement("td",{className:"jamiaId"},t.id),s.a.createElement("td",{className:"jamiaType"},t.role),s.a.createElement("td",{className:"jamiaName"},t.name[u],s.a.createElement("span",null,t.primeMufti[u])),s.a.createElement("td",{className:"jamiaJoined"},s.a.createElement(E.a,{value:new Date(t.joined),day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",{className:"jamiaFatwaCount"},s.a.createElement(E.b,{value:new Date(t.fatwa)})),s.a.createElement("td",{className:"jamiaContact"},s.a.createElement("a",{title:"Call Jamia",href:"tel:".concat(t.contact)},t.contact.replace("+88",""))))}function C(e){var a=e.loading,t=e.mufti,c=e.ghost,r=e.remove,d=e.patchApi,u=Object(l.useContext)(i.b).locale,f=Object(l.useState)(!1),p=Object(n.a)(f,2),g=p[0],b=p[1];return g?s.a.createElement("tr",{className:"full"},s.a.createElement("td",{className:"label"},"Joined"),s.a.createElement("td",{className:"data"},s.a.createElement(E.a,{value:new Date(t.joined),day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",{className:"label"},"Fatwa"),s.a.createElement("td",{className:"data"},s.a.createElement(E.b,{value:t.fatwa})),s.a.createElement("td",{className:"label"},"ID"),s.a.createElement("td",{className:"data"},t.id),s.a.createElement("td",{className:"label"},"Password"),s.a.createElement("td",{className:"data"},s.a.createElement(o.g,{api:d})),s.a.createElement("td",{className:"label"},"Name (Bangla)"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{api:d,defaultValue:t.name["bn-BD"],Element:m.h,pattern:/^[\u0980-\u09fe\s(),]+$/,fieldCode:"name.bn-BD"})),s.a.createElement("td",{className:"label"},"Name (Enlish)"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{api:d,defaultValue:t.name["en-US"],Element:m.h,pattern:/^[a-zA-Z\s(),]+$/,fieldCode:"name.en-US"})),s.a.createElement("td",{className:"label"},"Graduated from (Bangla)"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.grad.versity["bn-BD"],Element:m.h,max:200,fieldCode:"grad.versity.bn-BD",api:d})),s.a.createElement("td",{className:"label"},"Graduated from (English)"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.grad.versity["en-US"],Element:m.h,max:200,fieldCode:"grad.versity.en-US",api:d})),s.a.createElement("td",{className:"label"},"Graduation year"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.grad.year,Element:m.h,max:200,fieldCode:"grad.year",api:d})),s.a.createElement("td",{className:"label"},"Address"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.add,Element:m.n,max:200,fieldCode:"address",api:d})),s.a.createElement("td",{className:"label"},"Contact"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.mob,Element:m.h,pattern:/^\+8801\d{0,9}$/,tel:!0,fieldCode:"contact",api:d})),s.a.createElement("td",{className:"label"},"About"),s.a.createElement("td",{className:"data"},s.a.createElement(o.d,{defaultValue:t.about,Element:m.n,pattern:/^[\u0980-\u09e3\u09f0-\u09fea-zA-Z\s(),-]+$/,fieldCode:"about",api:d})),s.a.createElement("td",{className:"data btns"},s.a.createElement(m.m,{loading:a,onClick:c,label:s.a.createElement(s.a.Fragment,null,s.a.createElement("ion-icon",{name:"skull-outline"})," Ghost")}),s.a.createElement("button",{className:"hideDetail",onClick:function(){return b(!1)}},s.a.createElement("ion-icon",{name:"chevron-up-outline"}),"Hide Detail"),s.a.createElement(m.m,{loading:a,onClick:r,label:s.a.createElement(s.a.Fragment,null,s.a.createElement("ion-icon",{name:"trash-outline"})," Remove")}))):s.a.createElement("tr",{onClick:function(){return b(!0)}},s.a.createElement("td",{className:"jamiaId"},t.id),s.a.createElement("td",{className:"jamiaType"},t.role),s.a.createElement("td",{className:"jamiaName"},t.name[u],s.a.createElement("span",null,t.add)),s.a.createElement("td",{className:"jamiaJoined"},s.a.createElement(E.a,{value:new Date(t.joined),day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",{className:"jamiaFatwaCount"},s.a.createElement(E.b,{value:new Date(t.fatwa)})),s.a.createElement("td",{className:"jamiaContact"},s.a.createElement("a",{title:"Call Mufti",href:"tel:".concat(t.mob)},t.mob.replace("+88",""))))}var y=Object(f.c)((function(e){e.history,e.location,e.match;var a=e.intl,t=Object(l.useContext)(i.b).locale;return s.a.createElement("div",{className:"view"},s.a.createElement("h1",{className:"viewTitle"},s.a.createElement(u.a,{id:"fatwa",defaultMessage:"Fatwa"})),s.a.createElement(d.e,{page:"/admin/fatwa/",tabs:[{label:s.a.createElement(u.a,{id:"live",defaultMessage:"Live"}),link:"live"},{label:s.a.createElement(u.a,{id:"pending",defaultMessage:"pending"}),link:"pending"}]}),s.a.createElement(c.e,null,s.a.createElement(c.c,{path:"/admin/fatwa",exact:!0},s.a.createElement(d.g,{key:"allFatwa",Element:A,id:"allFatwa",api:"api/admin/allfatwa/filter?",categories:[{default:!0,fieldName:"title",name:a.formatMessage({id:"title",defaultMessage:"Title"}),chip:a.formatMessage({id:"titleChip",defaultMessage:"Title contains:"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"titleChip",defaultMessage:"Title contains:"}),required:!0})},{fieldName:"topic",name:a.formatMessage({id:"topic",defaultMessage:"Topic"}),chip:a.formatMessage({id:"topicChip",defaultMessage:"Topic is"}),input:s.a.createElement(m.d,{id:Object(m.g)(8),maxHeight:300,label:s.a.createElement(u.a,{id:"topicChip",defaultMessage:"topic is"}),options:m.p.map((function(e){return{label:e[t],value:e}}))})},{fieldName:"ques",name:a.formatMessage({id:"question",defaultMessage:"Question"}),chip:a.formatMessage({id:"quesChip",defaultMessage:"Question contains"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"quesChip",defaultMessage:"Question contains"}),required:!0})},{fieldName:"ans",name:a.formatMessage({id:"answer",defaultMessage:"Answer"}),display:a.formatMessage({id:"ansChip",defaultMessage:"Answer contains"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"ansChip",defaultMessage:"Answer contains"}),required:!0})},{fieldName:"translation",name:a.formatMessage({id:"translation",defaultMessage:"Translation"}),chip:a.formatMessage({id:"translationChip",defaultMessage:"Translation:"}),input:s.a.createElement(m.d,{maxHeight:500,label:s.a.createElement(u.a,{id:"translation",defaultMessage:"Translation:"}),options:[{label:a.formatMessage({id:"translationAuto",defaultMessage:"Auto"}),value:"generated"},{label:a.formatMessage({id:"translationManual",defaultMessage:"Manual"}),value:"manual"}]})}],columns:[{column:s.a.createElement(u.a,{id:"source",defaultMessage:"Source"}),sort:!0,colCode:"source"},{column:s.a.createElement(u.a,{id:"topic",defaultMessage:"Topic"}),sort:!0,colCode:"topic"},{column:s.a.createElement(u.a,{id:"translation",defaultMessage:"Translation"}),sort:!0,colCode:"translation"},{column:s.a.createElement(u.a,{id:"date",defaultMessage:"Date"}),sort:!0,colCode:"createdAt"},{column:s.a.createElement(u.a,{id:"title",defaultMessage:"Title"}),sort:!1,colCode:"title"}],defaultSort:{column:"createdAt",order:"des"}})),s.a.createElement(c.c,{path:"/admin/fatwa/live"},s.a.createElement(d.g,{key:"allFatwa",Element:A,id:"allFatwa",api:"api/admin/allfatwa/filter?",categories:[{default:!0,fieldName:"title",name:a.formatMessage({id:"title",defaultMessage:"Title"}),chip:a.formatMessage({id:"titleChip",defaultMessage:"Title contains:"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"titleChip",defaultMessage:"Title contains:"}),required:!0})},{fieldName:"topic",name:a.formatMessage({id:"topic",defaultMessage:"Topic"}),chip:a.formatMessage({id:"topicChip",defaultMessage:"Topic is"}),input:s.a.createElement(m.d,{id:Object(m.g)(8),maxHeight:300,label:s.a.createElement(u.a,{id:"topicChip",defaultMessage:"topic is"}),options:m.p.map((function(e){return{label:e[t],value:e}}))})},{fieldName:"ques",name:a.formatMessage({id:"question",defaultMessage:"Question"}),chip:a.formatMessage({id:"quesChip",defaultMessage:"Question contains"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"quesChip",defaultMessage:"Question contains"}),required:!0})},{fieldName:"ans",name:a.formatMessage({id:"answer",defaultMessage:"Answer"}),display:a.formatMessage({id:"ansChip",defaultMessage:"Answer contains"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"ansChip",defaultMessage:"Answer contains"}),required:!0})},{fieldName:"translation",name:a.formatMessage({id:"translation",defaultMessage:"Translation"}),chip:a.formatMessage({id:"translationChip",defaultMessage:"Translation:"}),input:s.a.createElement(m.d,{maxHeight:500,label:s.a.createElement(u.a,{id:"translation",defaultMessage:"Translation:"}),options:[{label:a.formatMessage({id:"translationAuto",defaultMessage:"Auto"}),value:"generated"},{label:a.formatMessage({id:"translationManual",defaultMessage:"Manual"}),value:"manual"}]})}],columns:[{column:s.a.createElement(u.a,{id:"source",defaultMessage:"Source"}),sort:!0,colCode:"source"},{column:s.a.createElement(u.a,{id:"topic",defaultMessage:"Topic"}),sort:!0,colCode:"topic"},{column:s.a.createElement(u.a,{id:"translation",defaultMessage:"Translation"}),sort:!0,colCode:"translation"},{column:s.a.createElement(u.a,{id:"date",defaultMessage:"Date"}),sort:!0,colCode:"createdAt"},{column:s.a.createElement(u.a,{id:"title",defaultMessage:"Title"}),sort:!1,colCode:"title"}],defaultSort:{column:"createdAt",order:"des"}})),s.a.createElement(c.c,{path:"/admin/fatwa/pending"},s.a.createElement(d.g,{key:"allFatwaSubmission",Element:j,id:"fatwaSubmissions",api:"api/admin/fatwaSubmissions/filter?",categories:[{default:!0,fieldName:"title",name:a.formatMessage({id:"title",defaultMessage:"Title"}),chip:a.formatMessage({id:"titleChip",defaultMessage:"Title contains:"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"titleChip",defaultMessage:"Title contains:"}),required:!0})},{fieldName:"topic",name:a.formatMessage({id:"topic",defaultMessage:"Topic"}),chip:a.formatMessage({id:"topicChip",defaultMessage:"Topic is"}),input:s.a.createElement(m.d,{id:Object(m.g)(8),maxHeight:300,label:s.a.createElement(u.a,{id:"topicChip",defaultMessage:"topic is"}),options:m.p.map((function(e){return{label:e[t],value:e}}))})},{fieldName:"ques",name:a.formatMessage({id:"question",defaultMessage:"Question"}),chip:a.formatMessage({id:"quesChip",defaultMessage:"Question contains"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"quesChip",defaultMessage:"Question contains"}),required:!0})},{fieldName:"ans",name:a.formatMessage({id:"answer",defaultMessage:"Answer"}),display:a.formatMessage({id:"ansChip",defaultMessage:"Answer contains"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"ansChip",defaultMessage:"Answer contains"}),required:!0})},{fieldName:"translation",name:a.formatMessage({id:"translation",defaultMessage:"Translation"}),chip:a.formatMessage({id:"translationChip",defaultMessage:"Translation:"}),input:s.a.createElement(m.d,{maxHeight:500,label:s.a.createElement(u.a,{id:"translation",defaultMessage:"Translation:"}),options:[{label:a.formatMessage({id:"translationAuto",defaultMessage:"Auto"}),value:"generated"},{label:a.formatMessage({id:"translationManual",defaultMessage:"Manual"}),value:"manual"}]})}],columns:[{column:s.a.createElement(u.a,{id:"date",defaultMessage:"Date"}),sort:!0,colCode:"createdAt"},{column:s.a.createElement(u.a,{id:"topic",defaultMessage:"Topic"}),sort:!0,colCode:"topic"},{column:s.a.createElement(u.a,{id:"source",defaultMessage:"Source"}),sort:!0,colCode:"source"},{column:s.a.createElement(u.a,{id:"title",defaultMessage:"Title"}),sort:!1}],defaultSort:{column:"createdAt",order:"des"}}))))}));function j(e){var a,t=e.data,r=e.setData,o=Object(l.useContext)(i.b),d=o.locale,f=o.setFatwaToEdit,p=Object(l.useState)(!1),g=Object(n.a)(p,2),b=g[0],h=g[1],N=Object(l.useState)(!1),M=Object(n.a)(N,2),v=M[0],w=M[1],C=t,y=Object(c.h)();return b?s.a.createElement("tr",{"data-id":C._id,className:"full ".concat(v?"loading":"")},s.a.createElement("td",{className:"label"},"Submitted"),s.a.createElement("td",{className:"data"},s.a.createElement(E.a,{value:new Date(C.createdAt),day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",{className:"label"},"topic"),s.a.createElement("td",{className:"data"},C.topic[d]),s.a.createElement("td",{className:"label"},"translation"),s.a.createElement("td",{className:"data"},C.translation?"Yes":"No"),s.a.createElement("td",{className:"label"},"title (Bangla)"),s.a.createElement("td",{className:"data"},C.title["bn-BD"]),C.title["en-US"]&&s.a.createElement(s.a.Fragment,null,s.a.createElement("td",{className:"label"},"title (English)"),s.a.createElement("td",{className:"data"},C.title["en-US"])),s.a.createElement("td",{className:"label"},"question (Bangla)"),s.a.createElement("td",{className:"data"},C.ques["bn-BD"]),C.ques["en-US"]&&s.a.createElement(s.a.Fragment,null,s.a.createElement("td",{className:"label"},"question (English)"),s.a.createElement("td",{className:"data"},C.ques["en-US"])),s.a.createElement("td",{className:"label"},"answer (Bangla)"),s.a.createElement("td",{className:"data"},C.ans["bn-BD"]),C.ans["en-US"]&&s.a.createElement(s.a.Fragment,null,s.a.createElement("td",{className:"label"},"answer (English)"),s.a.createElement("td",{className:"data"},C.ans["en-US"])),s.a.createElement("td",{className:"label"},"Ref."),s.a.createElement("td",{className:"data"},s.a.createElement("ul",null,C.ref.map((function(e,a){return e.book?s.a.createElement("li",{key:e.book+e.part+e.page},s.a.createElement(u.a,{id:"book",defaultMessage:"Book"}),":"," ",e.book,","," ",s.a.createElement(u.a,{id:"part",defaultMessage:"Part"}),":"," ",s.a.createElement(E.b,{value:e.part}),","," ",s.a.createElement(u.a,{id:"page",defaultMessage:"Page"}),":"," ",s.a.createElement(E.b,{value:e.page})):e.sura?s.a.createElement("li",{key:e.sura+e.aayat},s.a.createElement(u.a,{id:"sura",defaultMessage:"Sura"}),":"," ",e.sura,",",s.a.createElement(u.a,{id:"aayat",defaultMessage:"Aayat"}),":"," ",s.a.createElement(E.b,{value:e.aayat})):s.a.createElement("li",{key:e.hadith+e.hadithNo},s.a.createElement(u.a,{id:"hadith",defaultMessage:"hadith book"}),":"," ",e.hadith,","," ",s.a.createElement(u.a,{id:"hadithNo",defaultMessage:"Hadith No"}),":"," ",s.a.createElement(E.b,{value:e.hadithNo}))})))),s.a.createElement("td",{className:"btns data"},s.a.createElement(m.m,{loading:v,onClick:function(){w(!0),fetch("/api/admin/fatwaSubmissions/accept/".concat(C._id),{method:"POST"}).then((function(e){return e.json()})).then((function(e){w(!1),"ok"===e.code?r((function(e){return e.filter((function(e){return e._id!==C._id}))})):alert("something went wrong")})).catch((function(e){alert("something went wrong!"),console.log(e)}))},label:s.a.createElement(s.a.Fragment,null,s.a.createElement("ion-icon",{name:"checkmark-outline"})," Accept")}),s.a.createElement("button",{disabled:v,onClick:function(){return h(!1)}},s.a.createElement("ion-icon",{name:"chevron-up-outline"})," Hide Detail"),s.a.createElement("button",{disabled:v,onClick:function(e){f(C),y.push("/admin/newFatwa")}},s.a.createElement("ion-icon",{name:"pencil-outline"})," Edit"),s.a.createElement(m.m,{loading:v,onClick:function(){w(!0),fetch("/api/admin/fatwaSubmissions/remove/".concat(C._id),{method:"DELETE"}).then((function(e){w(!1),200===e.status?r((function(e){return e.filter((function(e){return e._id!==C._id}))})):alert("something went wrong!")})).catch((function(e){alert("something went wrong!"),console.log(e)}))},label:s.a.createElement(s.a.Fragment,null,s.a.createElement("ion-icon",{name:"trash-outline"})," Delete")}))):s.a.createElement("tr",{className:v?"loading":"","data-id":C._id,onClick:function(){return h(!0)}},s.a.createElement("td",null,s.a.createElement(E.a,{value:new Date(C.createdAt),day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",null,C.topic[d]),s.a.createElement("td",null,(null===(a=C.source)||void 0===a?void 0:a.name[d])||"NA"),s.a.createElement("td",null,C.title[d]))}function A(e){var a,t=e.data,o=e.setData,d=Object(l.useContext)(i.b),f=d.locale,p=d.setFatwaToEdit,g=Object(c.h)(),b=Object(l.useState)(!1),h=Object(n.a)(b,2),N=h[0],M=h[1],v=Object(l.useState)(!1),w=Object(n.a)(v,2),C=w[0],y=w[1],j=t;return N?s.a.createElement("tr",{"data-id":j._id,className:"".concat(N?"full":"")},s.a.createElement("td",{className:"label"},"Added"),s.a.createElement("td",{className:"data"},s.a.createElement(E.a,{value:new Date(j.createdAt),day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",{className:"label"},"jamia"),s.a.createElement("td",{className:"data"},j.jamia),s.a.createElement("td",{className:"label"},"topic"),s.a.createElement("td",{className:"data"},j.topic[f]),s.a.createElement("td",{className:"label"},"title (Bangla)"),s.a.createElement("td",{className:"data"},s.a.createElement(r.b,{target:"_blank",to:"/fatwa/".concat(j.link["bn-BD"])},j.title["bn-BD"])),j.title["en-US"]&&s.a.createElement(s.a.Fragment,null,s.a.createElement("td",{className:"label"},"title (English)"),s.a.createElement("td",{className:"data"},s.a.createElement(r.b,{to:"/fatwa/".concat(j.link["en-US"])},j.title["en-US"]))),s.a.createElement("td",{className:"label"},"question (Bangla)"),s.a.createElement("td",{className:"data"},j.ques["bn-BD"]),j.ques["en-US"]&&s.a.createElement(s.a.Fragment,null,s.a.createElement("td",{className:"label"},"question (English)"),s.a.createElement("td",{className:"data"},j.ques["en-US"])),s.a.createElement("td",{className:"label"},"answer (Bangla)"),s.a.createElement("td",{className:"data"},j.ans["bn-BD"]),j.ans["en-US"]&&s.a.createElement(s.a.Fragment,null,s.a.createElement("td",{className:"label"},"answer (English)"),s.a.createElement("td",{className:"data"},j.ans["en-US"])),s.a.createElement("td",{className:"label"},"Ref."),s.a.createElement("td",{className:"data"},s.a.createElement("ul",null,j.ref&&j.ref.map((function(e,a){return e.book?s.a.createElement("li",{key:e.book+e.part+e.page},s.a.createElement(u.a,{id:"book",defaultMessage:"Book"}),":"," ",e.book,","," ",s.a.createElement(u.a,{id:"part",defaultMessage:"Part"}),":"," ",s.a.createElement(E.b,{value:e.part}),","," ",s.a.createElement(u.a,{id:"page",defaultMessage:"Page"}),":"," ",s.a.createElement(E.b,{value:e.page})):e.sura?s.a.createElement("li",{key:e.sura+e.aayat},s.a.createElement(u.a,{id:"sura",defaultMessage:"Sura"}),":"," ",e.sura,","," ",s.a.createElement(u.a,{id:"aayat",defaultMessage:"Aayat"}),":"," ",s.a.createElement(E.b,{value:e.aayat})):s.a.createElement("li",{key:e.hadith+e.hadithNo},s.a.createElement(u.a,{id:"hadith",defaultMessage:"hadith book"}),": ",e.hadith,","," ",s.a.createElement(u.a,{id:"hadithNo",defaultMessage:"Hadith No"}),": ",s.a.createElement(E.b,{value:e.hadithNo}))})))),s.a.createElement("td",{className:"btns data"},s.a.createElement("button",{onClick:function(){p(j),g.push("/admin/editFatwa/"+j._id)}},s.a.createElement("ion-icon",{name:"create-outline"})," Edit"),s.a.createElement("button",{onClick:function(){return M(!1)}},s.a.createElement("ion-icon",{name:"chevron-up-outline"})," Hide Detail"),s.a.createElement(m.m,{loading:C,onClick:function(){var e;y(!0),fetch("/api/admin/fatwa/",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({fatwa:j._id,source:(null===(e=j.source)||void 0===e?void 0:e._id)||null})}).then((function(e){y(!1),200===e.status&&o((function(e){return e.filter((function(e){return e._id!==j._id}))}))})).catch((function(e){console.log(e)}))},label:s.a.createElement(s.a.Fragment,null,s.a.createElement("ion-icon",{name:"trash-outline"})," Delete")}))):s.a.createElement("tr",{"data-id":j._id,onClick:function(){return M(!0)}},s.a.createElement("td",null,(null===(a=j.source)||void 0===a?void 0:a.name[f])||"NA"),s.a.createElement("td",null,j.topic[f]),s.a.createElement("td",null,j.translation?"Yes":"No"),s.a.createElement("td",null,s.a.createElement(E.a,{value:new Date(j.createdAt),day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",null,j.title[f]))}function k(){return s.a.createElement("tr",null,s.a.createElement("td",null,"Make patreon rows"))}function F(){return s.a.createElement("div",{className:"view"},s.a.createElement("h1",null,"Patreons"),s.a.createElement(d.e,{page:"/admin/patreons/",tabs:["All"]}),s.a.createElement(c.e,null,s.a.createElement(c.c,{path:"/admin/patreons"},s.a.createElement(d.f,{Element:k,defaultSort:{column:"date",order:"des"},id:"allPatreons",api:"api/admin/patreons/filter?",categories:[],columns:[{column:"name",sort:!1,colCode:"name"},{column:"amount",sort:!0,colCode:"amount"},{column:"date",sort:!0,colCode:"date"}]}))))}function S(){var e=Object(l.useContext)(i.b).locale;return s.a.createElement("div",{className:"view"},s.a.createElement("h1",null,s.a.createElement(u.a,{id:"review",defaultMessage:"User Review"})),s.a.createElement(d.e,{page:"/admin/user/",tabs:[{label:"Questions",link:"questions"},{label:"Answered Question",link:"answeredQuestion"},{label:"Review",link:"review"},{label:"Report",link:"report"}]}),s.a.createElement(c.e,null,s.a.createElement(c.c,{path:"/admin/user",exact:!0},s.a.createElement(d.f,{Element:T,defaultSort:{column:"submitted",order:"des"},id:"userSubmissions",api:"api/admin/userQuestion/filter?",categories:[{name:"topic",input:s.a.createElement(m.d,{options:m.p.map((function(a){return{label:a[e],value:a}})),required:!0})},{name:"name",input:s.a.createElement(m.h,{label:"Name",type:"text",required:!0})},{name:"answered",input:s.a.createElement(m.d,{label:"Answered",options:[{label:"Answered",value:!0},{label:"Not answered",value:!1}],required:!0})},{name:"taken",input:s.a.createElement(m.d,{id:Object(m.g)(8),maxHeight:500,label:"jamia",data:["jamia 1","jamia 2","jamia 3"],required:!0})}],columns:[{column:"date",sort:!0,colCode:"createdAt"},{column:"name",sort:!1,colCode:"name"},{column:"question",sort:!1,colCode:"ques"},{column:"answers",sort:!0,colCode:"ansCount"}]})),s.a.createElement(c.c,{path:"/admin/user/questions"},s.a.createElement(d.f,{Element:T,defaultSort:{column:"submitted",order:"des"},id:"userSubmissions",api:"api/admin/userQuestion/filter?",columns:[{column:"date",sort:!0,colCode:"submitted"},{column:"name",sort:!1,colCode:"name"},{column:"question",sort:!1,colCode:"ques"}]})),s.a.createElement(c.c,{path:"/admin/user/answeredQuestion"},s.a.createElement(d.f,{Element:q,defaultSort:{column:"date",order:"des"},id:"answeredQuestion",api:"api/admin/userReview/filter?",columns:[{column:"name",sort:!1,colCode:"name"},{column:"date",sort:!0,colCode:"date"},{column:"message",sort:!1,colCode:"message"}]})),s.a.createElement(c.c,{path:"/admin/user/review"},s.a.createElement(d.f,{Element:q,defaultSort:{column:"date",order:"des"},id:"answeredQuestion",api:"api/admin/userReview/filter?",columns:[{column:"name",sort:!1,colCode:"name"},{column:"date",sort:!0,colCode:"date"},{column:"message",sort:!1,colCode:"message"}]})),s.a.createElement(c.c,{path:"/admin/user/report"},s.a.createElement(d.f,{Element:q,defaultSort:{column:"date",order:"des"},id:"allReports",api:"api/admin/userReview/filter?",columns:[{column:"name",sort:!1,colCode:"name"},{column:"date",sort:!0,colCode:"date"},{column:"message",sort:!1,colCode:"message"}]}))))}function q(){return s.a.createElement("tr",null,s.a.createElement("td",null,"Make user review rows"))}function T(e){var a=e.data,t=e.setData,c=Object(l.useContext)(i.b).locale,r=Object(l.useState)(!1),m=Object(n.a)(r,2),o=m[0],d=m[1],u=Object(l.useState)(!1),f=Object(n.a)(u,2),p=f[0],g=f[1],b=a;return o?s.a.createElement("tr",{className:"full"},s.a.createElement("td",{className:"label"},"Submitted"),s.a.createElement("td",{className:"data"},s.a.createElement(E.a,{value:b.createdAt,day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",{className:"label"},"Name"),s.a.createElement("td",{className:"data"},b.user.name),s.a.createElement("td",{className:"label"},"Address"),s.a.createElement("td",{className:"data"},b.user.add),s.a.createElement("td",{className:"label"},"Mobile"),s.a.createElement("td",{className:"data"},s.a.createElement("a",{href:"tel:".concat(b.user.mob)},b.user.mob)),s.a.createElement("td",{className:"label"},"Topic"),s.a.createElement("td",{className:"data"},b.ques.topic[c]),s.a.createElement("td",{className:"label"},"Question"),s.a.createElement("td",{className:"data"},b.ques.body),s.a.createElement("td",{className:"data btns"},s.a.createElement("button",{className:"hideDetail",onClick:function(){return d(!1)}},s.a.createElement("ion-icon",{name:"chevron-up-outline"}),"Hide Detail"),s.a.createElement("button",{disabled:p,className:"remove",onClick:function(){g(!0),fetch("/api/admin/removeUserQuestion",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:b._id})}).then((function(e){g(!1),200===e.status&&t((function(e){return e.filter((function(e){return e._id!==b._id}))}))})).catch((function(e){console.log(e),alert("something went wrong!")}))}},s.a.createElement("ion-icon",{name:"trash-outline"}),"Remove"))):s.a.createElement("tr",{onClick:function(){return d(!0)}},s.a.createElement("td",null,s.a.createElement(E.a,{value:b.createdAt,day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",null,b.user.name,s.a.createElement("span",null,b.user.add)),s.a.createElement("td",null,b.ques.body),s.a.createElement("td",null,s.a.createElement(E.b,{value:b.ansCount})))}function O(){return s.a.createElement("div",{className:"view questionFeed"},s.a.createElement("h1",{className:"viewTitle"},s.a.createElement(u.a,{id:"questionFeed",defaultMessage:"Question Feed"})),s.a.createElement(d.e,{page:"/admin/questionFeed/",tabs:[{label:s.a.createElement(u.a,{id:"newQuestions"}),link:"newQuestions"}]}),s.a.createElement(c.e,null,s.a.createElement(c.c,{path:"/admin/questionFeed",exact:!0},s.a.createElement(D,null)),s.a.createElement(c.c,{path:"/admin/questionFeed/newQuestions"},s.a.createElement(D,null))))}var D=Object(f.c)((function(e){var a=e.intl,t=new AbortController,c=t.signal,r=Object(l.useContext)(i.b).locale,o=Object(l.useState)(!0),E=Object(n.a)(o,2),f=E[0],p=E[1],g=Object(l.useState)({column:"createdAt",order:"des"}),b=Object(n.a)(g,2),h=b[0],N=b[1],M=Object(l.useState)([]),v=Object(n.a)(M,2),w=v[0],C=v[1];return Object(l.useEffect)((function(){p(!0);var e,a=(e=h,Object.keys(e).map((function(a){return"".concat(a,"=").concat(e[a])})).join("&")),n={headers:{"Accept-Language":r},signal:c},l="/api/admin/questionFeed/filter?&".concat(a);return fetch(l,n).then((function(e){return e.json()})).then((function(e){p(!1),C(e)})).catch((function(e){console.log(e),console.log("handle error!!")})),function(){return t.abort()}}),[h]),f||0!==w.length?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"filters"},s.a.createElement(m.d,{disabled:f,defaultValue:1,onChange:function(e){return N(e.value)},maxHeight:200,id:"questionFeedSort",icon:"layers",options:[{label:a.formatMessage({id:"newFirts"}),value:{column:"createdAt",order:"des"}},{label:a.formatMessage({id:"oldFirst"}),value:{column:"createdAt",order:"asc"}}]})),s.a.createElement("ul",{className:"feed"},f?s.a.createElement(d.b,null):w.map((function(e){return s.a.createElement(_,{key:e._id,ques:e,setQues:C})})))):s.a.createElement("div",{className:"noQuestion"},s.a.createElement("ion-icon",{name:"file-tray-outline"}),s.a.createElement("p",null,"- ",s.a.createElement(u.a,{id:"nothingHere"})," -"))}));function _(e){var a=e.ques,t=e.setQues,r=Object(l.useContext)(i.b).locale,o=Object(l.useState)(!1),f=Object(n.a)(o,2),p=(f[0],f[1]),g=Object(c.h)(),b=Object(l.useRef)(null);return s.a.createElement("li",{ref:b,className:"question mini",onClick:function(e){e.target===b.current&&g.push("/admin/userQuestion/"+a._id)}},s.a.createElement("div",{className:"user"},s.a.createElement("p",{className:"name"},a.user.name),s.a.createElement("p",{className:"date"},new Date(a.submitted).getFullYear()!==(new Date).getFullYear()?s.a.createElement(E.a,{value:a.createdAt,day:"numeric",month:"long",year:"2-digit"}):s.a.createElement(E.a,{value:a.submitted,day:"numeric",month:"long"}),s.a.createElement("span",{className:"separator"}),s.a.createElement(E.c,{value:a.submitted},(function(e){return s.a.createElement(s.a.Fragment,null,e[0].value,e[1].value,e[2].value,s.a.createElement("small",null,e[4].value.toLowerCase()))})))),s.a.createElement(d.a,{icon:"reorder-two-outline",actions:[{label:"Answer now",action:function(){m.l.set("userAns-ques",a.ques.body),m.l.set("userAns-topic",JSON.stringify(a.ques.topic)),g.push("/admin/userQuestion/".concat(a._id,"/add"))}},{label:"Remove",action:function(){p(!0),fetch("/api/admin/userQues",{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({_id:a._id})}).then((function(e){return e.json()})).then((function(e){p(!1),"ok"===e.code?t((function(e){return e.filter((function(e){return e._id!==a._id}))})):alert("something went wrong")})).catch((function(e){p(!1),console.log(e),alert("something went wrong")}))}}]}),s.a.createElement("p",{className:"ques"},a.ques.body),s.a.createElement("ul",{className:"tags"},s.a.createElement("li",{className:"tag"},a.ques.topic[r]),s.a.createElement("li",{className:"tag"},s.a.createElement(u.a,{values:{number:s.a.createElement(E.b,{value:a.ans.length})},id:"ans.tag.ansCount",defaultMessage:"".concat(a.ans.length," Answer(s)")})),s.a.createElement("li",{className:"tag"},s.a.createElement(u.a,{values:{number:s.a.createElement(E.b,{value:a.reports.length})},id:"ans.tag.reportCount",defaultMessage:"".concat(a.reports.length," Reports(s)")}))))}function Q(e){e.history;var a=e.match,t=Object(l.useState)(!0),r=Object(n.a)(t,2),i=r[0],m=r[1],o=Object(l.useState)({}),u=Object(n.a)(o,2),f=u[0],p=u[1];return Object(l.useEffect)((function(){fetch("/api/admin/userQues/"+a.params._id).then((function(e){return e.json()})).then((function(e){if(m(!1),"ok"!==e.code)throw e;p(e.content)})).catch((function(e){alert("something went wrong"),console.log(e)}))}),[]),f.ques?s.a.createElement("div",{className:"view userQues"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"ques"},s.a.createElement("div",{className:"user"},s.a.createElement("p",{className:"name"},s.a.createElement("b",null,f.user.name),s.a.createElement("span",{className:"separator"}),s.a.createElement("i",null,s.a.createElement("span",{className:"add"},f.user.add))),s.a.createElement("p",{className:"date"},s.a.createElement(E.a,{value:f.createdAt,day:"numeric",month:"long",year:"2-digit"}),s.a.createElement("span",{className:"separator"}),s.a.createElement(E.c,{value:f.createdAt},(function(e){return s.a.createElement(s.a.Fragment,null,e[0].value,e[1].value,e[2].value,s.a.createElement("small",null,e[4].value.toLowerCase()))})))),s.a.createElement("p",{className:"body"},f.ques.body)),s.a.createElement(d.e,{page:"/admin/userQuestion/".concat(f._id,"/"),tabs:[{label:"Answers",link:"answers"},{label:"Reports",link:"reports"},{label:"Add answer",link:"addAnswer"}]}),s.a.createElement(c.e,null,s.a.createElement(c.c,{path:"/admin/userQuestion/".concat(f._id),exact:!0},f.ans.map((function(e){return s.a.createElement(x,{key:e._id,ques:f,ans:e,setQues:p})}))),s.a.createElement(c.c,{path:"/admin/userQuestion/".concat(f._id,"/answers")},f.ans.map((function(e){return s.a.createElement(x,{key:e._id,ques:f,ans:e,setQues:p})}))),s.a.createElement(c.c,{path:"/admin/UserQuestion/".concat(f._id,"/reports")},f.reports.map((function(e){return s.a.createElement(B,{key:e._id,report:e})})))))):s.a.createElement("div",{className:"view"},i?s.a.createElement("h1",null,"loading"):s.a.createElement("p",null,"Question not found!"))}function x(e){var a=e.ques,t=e.ans,r=e.setQues,o=Object(l.useContext)(i.b),f=o.locale,p=o.user,g=Object(l.useState)(!1),b=Object(n.a)(g,2),h=b[0],N=b[1],M=Object(l.useState)(!1),v=Object(n.a)(M,2),w=v[0],C=v[1],y=Object(c.h)();return s.a.createElement("div",{className:"ans ".concat(t.source._id===p._id?"mine":""," ").concat(w?"":"mini"," ").concat(h?"loading":"")},s.a.createElement("div",{className:"vote"},s.a.createElement("div",{className:"content"},s.a.createElement("ion-icon",{name:"chevron-up-outline"}),s.a.createElement("p",{className:"voteCount"},s.a.createElement(E.b,{value:t.vote.count})),s.a.createElement("ion-icon",{name:"chevron-down-outline"}))),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"source"},s.a.createElement("p",{className:"name"},s.a.createElement("b",null,t.source.name[f])),s.a.createElement("p",{className:"date"},s.a.createElement(E.a,{value:t.createdAt,day:"numeric",month:"long",year:"2-digit"}),s.a.createElement("span",{className:"separator"}),s.a.createElement(E.c,{value:t.createdAt},(function(e){return s.a.createElement(s.a.Fragment,null,e[0].value,e[1].value,e[2].value,s.a.createElement("small",null,e[4].value.toLowerCase()))})))),s.a.createElement("div",{className:"body"},s.a.createElement("p",{className:"title"},t.topic[f],": ",t.title),s.a.createElement("p",{className:"answer"},t.body)),w&&t.ref.length>0&&s.a.createElement("div",{className:"ref"},s.a.createElement("p",null,s.a.createElement(u.a,{id:"ref",value:"Ref."})),s.a.createElement("ul",{className:"ref"},t.ref.map((function(e,a){return e.book?s.a.createElement("li",{key:e.book+e.part+e.page},s.a.createElement(u.a,{id:"book",defaultMessage:"Book"}),":"," ",e.book,","," ",e.part&&s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{id:"part",defaultMessage:"Part"}),":"," ",s.a.createElement(E.b,{value:e.part}),",")," ",s.a.createElement(u.a,{id:"page",defaultMessage:"Page"}),":"," ",s.a.createElement(E.b,{value:e.page})):e.sura?s.a.createElement("li",{key:e.sura+e.aayat},s.a.createElement(u.a,{id:"sura",defaultMessage:"Sura"}),":"," ",e.sura,","," ",s.a.createElement(u.a,{id:"aayat",defaultMessage:"Aayat"}),":"," ",s.a.createElement(E.b,{value:e.aayat})):s.a.createElement("li",{key:e.hadith+e.hadithNo},s.a.createElement(u.a,{id:"hadith",defaultMessage:"hadith book"}),": ",e.hadith,","," ",s.a.createElement(u.a,{id:"hadithNo",defaultMessage:"Hadith No"}),": ",s.a.createElement(E.b,{value:e.hadithNo}))})))),!w&&s.a.createElement("div",{className:"tags"},s.a.createElement("p",{className:"tag"},s.a.createElement(u.a,{values:{number:s.a.createElement(E.b,{value:t.ref.length})},id:"ans.tag.refCount",defaultMessage:"".concat(t.ref.length," Reference(s)")})),s.a.createElement("p",{className:"tag"},s.a.createElement(u.a,{values:{number:s.a.createElement(E.b,{value:t.vote.voters.length})},id:"ans.tag.voteCount",defaultMessage:"".concat(t.vote.voters.length," Vote(s)")}))),s.a.createElement("span",{onClick:function(){return C(!w)},className:"showFull"},w?"\u09aa\u09c1\u09b0\u09cb \u0989\u09a4\u09cd\u09a4\u09b0 \u0997\u09cb\u09aa\u09a8 \u0995\u09b0\u09c1\u09a8":"\u09aa\u09c1\u09b0\u09cb \u0989\u09a4\u09cd\u09a4\u09b0 \u09a6\u09c7\u0996\u09c1\u09a8")),s.a.createElement(d.a,{icon:"reorder-two-outline",actions:[{label:"Edit",action:function(){m.l.set("ansFatwa-ans",t.body),m.l.set("ansFatwa-title",t.title),m.l.set("ansFatwa-ref",JSON.stringify(t.ref)),y.push(y.location.pathname+"/add")}},{label:"Approve",action:function(){N(!0);var e={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({ans_id:t._id})};fetch("/api/admin/userQues/approveAns/".concat(a._id),e).then((function(e){return e.json()})).then((function(e){if(N(!1),"ok"!==e.code)throw e.code;y.push("/admin/questionFeed")})).catch((function(e){console.log(e),alert("something went wrong")}))}},{label:"Remove",action:function(){var e={method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({source:t.source._id,_id:t._id})};N(!0),fetch("/api/admin/userQues/answer/".concat(a._id),e).then((function(e){return e.json()})).then((function(e){if(N(!1),"ok"!==e.code)throw e.code;r(e.content)})).catch((function(e){console.log(e),alert("something went wrong")}))}}]}))}function B(e){var a=e.report,t=Object(l.useContext)(i.b).locale;return s.a.createElement("div",{className:"quesReports"},s.a.createElement("div",{className:"user"},s.a.createElement("p",{className:"name"},s.a.createElement("b",null,a.source.name[t])),s.a.createElement("p",{className:"date"},s.a.createElement(E.a,{value:a.createdAt,day:"numeric",month:"long",year:"2-digit"}),s.a.createElement("span",{className:"separator"}),s.a.createElement(E.c,{value:a.createdAt},(function(e){return s.a.createElement(s.a.Fragment,null,e[0].value,e[1].value,e[2].value,s.a.createElement("small",null,e[4].value.toLowerCase()))})))),s.a.createElement("div",{className:"contect"},s.a.createElement("p",{className:"subject"},a.message.subject),s.a.createElement("p",{className:"body"},a.message.body)))}var J=Object(f.c)((function(e){e.history,e.location,e.match;var a=e.intl,t=Object(l.useContext)(i.b).locale;return s.a.createElement("div",{className:"view"},s.a.createElement("h1",{className:"viewTitle"},s.a.createElement(u.a,{id:"scrapped",defaultMessage:"Scrapped"})),s.a.createElement(d.e,{page:"/admin/scrappedFatwas/",tabs:[{label:s.a.createElement(u.a,{id:"pending",defaultMessage:"pending"}),link:"pending"},{label:s.a.createElement(u.a,{id:"live",defaultMessage:"Live"}),link:"live"}]}),s.a.createElement(c.e,null,s.a.createElement(c.c,{path:"/admin/scrappedFatwas",exact:!0},s.a.createElement(d.g,{key:"allFatwaSubmission",Element:U,id:"allScrapped",api:"api/admin/scrappedFatwas/filter?",categories:[{default:!0,fieldName:"title",name:a.formatMessage({id:"title",defaultMessage:"Title"}),chip:a.formatMessage({id:"titleChip",defaultMessage:"Title contains:"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"titleChip",defaultMessage:"Title contains:"}),required:!0})},{fieldName:"topic",name:a.formatMessage({id:"topic",defaultMessage:"Topic"}),chip:a.formatMessage({id:"topicChip",defaultMessage:"Topic is"}),input:s.a.createElement(m.d,{id:Object(m.g)(8),maxHeight:300,label:s.a.createElement(u.a,{id:"topicChip",defaultMessage:"topic is"}),options:m.p.map((function(e){return{label:e[t],value:e}}))})},{fieldName:"ques",name:a.formatMessage({id:"question",defaultMessage:"Question"}),chip:a.formatMessage({id:"quesChip",defaultMessage:"Question contains"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"quesChip",defaultMessage:"Question contains"}),required:!0})},{fieldName:"ans",name:a.formatMessage({id:"answer",defaultMessage:"Answer"}),display:a.formatMessage({id:"ansChip",defaultMessage:"Answer contains"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"ansChip",defaultMessage:"Answer contains"}),required:!0})},{fieldName:"translation",name:a.formatMessage({id:"translation",defaultMessage:"Translation"}),chip:a.formatMessage({id:"translationChip",defaultMessage:"Translation:"}),input:s.a.createElement(m.d,{maxHeight:500,label:s.a.createElement(u.a,{id:"translation",defaultMessage:"Translation:"}),options:[{label:a.formatMessage({id:"translationAuto",defaultMessage:"Auto"}),value:"generated"},{label:a.formatMessage({id:"translationManual",defaultMessage:"Manual"}),value:"manual"}]})}],columns:[{column:s.a.createElement(u.a,{id:"date",defaultMessage:"Date"}),sort:!0,colCode:"createdAt"},{column:s.a.createElement(u.a,{id:"topic",defaultMessage:"Topic"}),colCode:"topic"},{column:s.a.createElement(u.a,{id:"source",defaultMessage:"Source"}),sort:!0,colCode:"source"},{column:s.a.createElement(u.a,{id:"title",defaultMessage:"Title"}),sort:!1}],defaultSort:{column:"createdAt",order:"des"}})),s.a.createElement(c.c,{path:"/admin/scrappedFatwas/pending"},s.a.createElement(d.g,{key:"allFatwaSubmission",Element:U,id:"allScrapped",api:"api/admin/scrappedFatwas/filter?",categories:[{default:!0,fieldName:"title",name:a.formatMessage({id:"title",defaultMessage:"Title"}),chip:a.formatMessage({id:"titleChip",defaultMessage:"Title contains:"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"titleChip",defaultMessage:"Title contains:"}),required:!0})},{fieldName:"topic",name:a.formatMessage({id:"topic",defaultMessage:"Topic"}),chip:a.formatMessage({id:"topicChip",defaultMessage:"Topic is"}),input:s.a.createElement(m.d,{id:Object(m.g)(8),maxHeight:300,label:s.a.createElement(u.a,{id:"topicChip",defaultMessage:"topic is"}),options:m.p.map((function(e){return{label:e[t],value:e}}))})},{fieldName:"ques",name:a.formatMessage({id:"question",defaultMessage:"Question"}),chip:a.formatMessage({id:"quesChip",defaultMessage:"Question contains"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"quesChip",defaultMessage:"Question contains"}),required:!0})},{fieldName:"ans",name:a.formatMessage({id:"answer",defaultMessage:"Answer"}),display:a.formatMessage({id:"ansChip",defaultMessage:"Answer contains"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"ansChip",defaultMessage:"Answer contains"}),required:!0})},{fieldName:"translation",name:a.formatMessage({id:"translation",defaultMessage:"Translation"}),chip:a.formatMessage({id:"translationChip",defaultMessage:"Translation:"}),input:s.a.createElement(m.d,{maxHeight:500,label:s.a.createElement(u.a,{id:"translation",defaultMessage:"Translation:"}),options:[{label:a.formatMessage({id:"translationAuto",defaultMessage:"Auto"}),value:"generated"},{label:a.formatMessage({id:"translationManual",defaultMessage:"Manual"}),value:"manual"}]})}],columns:[{column:s.a.createElement(u.a,{id:"date",defaultMessage:"Date"}),sort:!0,colCode:"createdAt"},{column:s.a.createElement(u.a,{id:"topic",defaultMessage:"Topic"}),colCode:"topic"},{column:s.a.createElement(u.a,{id:"source",defaultMessage:"Source"}),sort:!0,colCode:"source"},{column:s.a.createElement(u.a,{id:"title",defaultMessage:"Title"}),sort:!1}],defaultSort:{column:"createdAt",order:"des"}})),s.a.createElement(c.c,{path:"/admin/scrappedFatwas/live"},s.a.createElement(d.g,{key:"allFatwa",Element:U,id:"allScrappedLive",api:"api/admin/scrappedFatwas/live/filter?",categories:[{default:!0,fieldName:"title",name:a.formatMessage({id:"title",defaultMessage:"Title"}),chip:a.formatMessage({id:"titleChip",defaultMessage:"Title contains:"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"titleChip",defaultMessage:"Title contains:"}),required:!0})},{fieldName:"topic",name:a.formatMessage({id:"topic",defaultMessage:"Topic"}),chip:a.formatMessage({id:"topicChip",defaultMessage:"Topic is"}),input:s.a.createElement(m.d,{id:Object(m.g)(8),maxHeight:300,label:s.a.createElement(u.a,{id:"topicChip",defaultMessage:"topic is"}),options:m.p.map((function(e){return{label:e[t],value:e}}))})},{fieldName:"ques",name:a.formatMessage({id:"question",defaultMessage:"Question"}),chip:a.formatMessage({id:"quesChip",defaultMessage:"Question contains"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"quesChip",defaultMessage:"Question contains"}),required:!0})},{fieldName:"ans",name:a.formatMessage({id:"answer",defaultMessage:"Answer"}),display:a.formatMessage({id:"ansChip",defaultMessage:"Answer contains"}),input:s.a.createElement(m.h,{autoFocus:!0,label:s.a.createElement(u.a,{id:"ansChip",defaultMessage:"Answer contains"}),required:!0})},{fieldName:"translation",name:a.formatMessage({id:"translation",defaultMessage:"Translation"}),chip:a.formatMessage({id:"translationChip",defaultMessage:"Translation:"}),input:s.a.createElement(m.d,{maxHeight:500,label:s.a.createElement(u.a,{id:"translation",defaultMessage:"Translation:"}),options:[{label:a.formatMessage({id:"translationAuto",defaultMessage:"Auto"}),value:"generated"},{label:a.formatMessage({id:"translationManual",defaultMessage:"Manual"}),value:"manual"}]})}],columns:[{column:s.a.createElement(u.a,{id:"date",defaultMessage:"Date"}),sort:!0,colCode:"createdAt"},{column:s.a.createElement(u.a,{id:"topic",defaultMessage:"Topic"}),sort:!0,colCode:"topic"},{column:s.a.createElement(u.a,{id:"source",defaultMessage:"Source"}),sort:!0,colCode:"source"},{column:s.a.createElement(u.a,{id:"title",defaultMessage:"Title"}),sort:!1}],defaultSort:{column:"createdAt",order:"des"}}))))}));function U(e){var a,t=e.data,c=(e.setData,e.fetchData),r=Object(l.useState)(!1),m=Object(n.a)(r,2),d=m[0],u=m[1],f=Object(l.useContext)(i.b).locale;return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{onClick:function(){u(!0)}},s.a.createElement("td",null,s.a.createElement(E.a,{value:t.createdAt,day:"numeric",month:"numeric",year:"2-digit"})),s.a.createElement("td",null,t.topic||"NA"),s.a.createElement("td",null,(null===(a=t.source)||void 0===a?void 0:a.name[f])||"NA"),s.a.createElement("td",null,t.title||t.ques)),s.a.createElement(g.a,{containerClass:"scrappedFawtaForm",open:d,setOpen:u},s.a.createElement("ion-icon",{onClick:function(){return u(!1)},name:"close-outline"}),s.a.createElement(o.i,{data:t,fetchData:c})))}a.default=function(){var e=Object(l.useContext)(i.b),a=e.user,t=e.setSidebarSize;return a&&"admin"===a.role?s.a.createElement("div",{className:"main adminPanel"},s.a.createElement(d.d,{views:[{label:s.a.createElement(u.a,{id:"newFatwa",defaultMessage:"New Fatwa"}),path:"/admin/newFatwa",icon:"add"},{label:s.a.createElement(u.a,{id:"source",defaultMessage:"Source"}),path:"/admin/sources",icon:"book"},{label:s.a.createElement(u.a,{id:"fatwa",defaultMessage:"Fatwa"}),path:"/admin/fatwa",icon:"reader"},{label:s.a.createElement(u.a,{id:"scrapped",defaultMessage:"Scrapped"}),path:"/admin/scrappedFatwas",icon:"download"},{label:s.a.createElement(u.a,{id:"questionFeed",defaultMessage:"Question Feed"}),path:"/admin/questionFeed",icon:"mail"}]},s.a.createElement("div",{className:"profile"},s.a.createElement("h2",{onClick:function(){window.innerWidth<1080&&t("mini")}},"A"))),s.a.createElement(c.e,null,s.a.createElement(c.c,{path:"/admin",exact:!0,component:b}),s.a.createElement(c.c,{path:"/admin/sources",component:b}),s.a.createElement(c.c,{path:"/admin/fatwa/:filter?",component:y}),s.a.createElement(c.c,{path:"/admin/patreons",component:F}),s.a.createElement(c.c,{path:"/admin/user",component:S}),s.a.createElement(c.c,{path:"/admin/scrappedFatwas",component:J}),s.a.createElement(c.c,{path:"/admin/newFatwa",component:function(e){return s.a.createElement("div",{className:"view",id:"addFatwa"},s.a.createElement("h1",null,s.a.createElement(u.a,{id:"addNewFatwa",defaultMessage:"Add new Fatwa"})),s.a.createElement(o.a,e))}}),s.a.createElement(c.c,{path:"/admin/editFatwa/:id",component:function(e){return s.a.createElement("div",{className:"view",id:"addFatwa"},s.a.createElement("h1",null,s.a.createElement(u.a,{id:"editFatwa",defaultMessage:"Edit Fatwa"})),s.a.createElement(o.a,e))}}),s.a.createElement(c.c,{path:"/admin/userQuestion/:_id",component:Q}),s.a.createElement(c.c,{path:"/admin/questionFeed",component:O}),s.a.createElement(c.c,{path:"/",component:p.a}))):s.a.createElement(c.b,{to:"/"})}}}]);
//# sourceMappingURL=4.ed6fa8fb.chunk.js.map